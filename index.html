<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NANKOTSU ã‚¹ãƒˆãƒ¬ãƒ³ã‚°ã‚¹ãƒ»ãƒ©ãƒœ (AI Integrated)</title>
    <style>
        :root {
            --primary-color: #2c3e50;
            --accent-color: #27ae60;
            --sub-color: #e74c3c;
            --bg-color: #f8f9fa;
            --text-color: #333;
            --executing: #8e44ad;
            --influencing: #d35400;
            --relationship: #2980b9;
            --strategic: #27ae60;
        }
        * { box-sizing: border-box; }
        
        body {
            font-family: "Helvetica Neue", Arial, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 15px;
        }
        .container {
            background: white;
            width: 100%;
            max-width: 800px;
            padding: 40px;
            border-radius: 16px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.08);
            text-align: center;
            position: relative;
        }
        .coach-header { border-bottom: 2px solid #eee; padding-bottom: 20px; margin-bottom: 20px; }
        .coach-title { font-size: 14px; color: #7f8c8d; font-weight: bold; letter-spacing: 1px; }
        h1 { font-size: 24px; color: var(--primary-color); margin: 10px 0; }

        .btn-back {
            position: absolute; top: 20px; left: 20px; background: none; border: none;
            color: #999; font-size: 14px; cursor: pointer; padding: 5px; z-index: 10;
        }

        /* è³ªå•ã‚¨ãƒªã‚¢ */
        .question-statement { font-size: 1.2em; font-weight: bold; margin-bottom: 20px; min-height: 3em; line-height: 1.5; }
        .question-type-badge {
            background: #eee; color: #555; padding: 2px 8px; border-radius: 4px;
            font-size: 10px; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 10px; display: inline-block;
        }
        .choices-wrapper { display: flex; justify-content: space-between; margin-bottom: 20px; gap: 15px; }
        .choice-box { 
            width: 48%; padding: 15px; border-radius: 8px; background: #f9f9f9; 
            display: flex; flex-direction: column; align-items: center; justify-content: flex-start; 
            font-size: 0.95em; font-weight: bold; color: var(--primary-color); border: 1px solid #eee; position: relative; line-height: 1.4;
        }
        .choice-badge { display: inline-block; padding: 2px 8px; border-radius: 4px; color: white; font-size: 12px; margin-bottom: 8px; font-weight: bold; }
        .box-a { border-top: 4px solid var(--sub-color); }
        .badge-a { background-color: var(--sub-color); }
        .box-b { border-top: 4px solid var(--accent-color); }
        .badge-b { background-color: var(--accent-color); }

        /* ãƒœã‚¿ãƒ³ */
        .scale-container { display: flex; justify-content: space-between; align-items: center; margin: 10px 0 5px 0; gap: 5px; }
        .scale-btn { 
            width: 50px; height: 50px; border-radius: 50%; border: 2px solid #ddd; background: white; 
            cursor: pointer; transition: all 0.2s; display: flex; justify-content: center; align-items: center; 
            font-weight: bold; color: #666; font-size: 14px; flex-shrink: 0; 
        }
        .scale-btn.large { width: 60px; height: 60px; font-size: 18px; }
        .btn-color-a:hover { border-color: var(--sub-color); color: var(--sub-color); }
        .btn-color-b:hover { border-color: var(--accent-color); color: var(--accent-color); }
        .scale-btn:active { transform: scale(0.95); background-color: #f0f0f0; }
        .scale-guide { display: flex; justify-content: space-between; font-size: 11px; color: #888; margin-bottom: 20px; padding: 0 5px; }

        /* ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ */
        .progress-section { margin-top: 10px; }
        .progress-bar-bg { width: 100%; height: 6px; background: #eee; border-radius: 3px; overflow: hidden; }
        .progress-bar-fill { height: 100%; background: var(--accent-color); width: 0%; transition: width 0.3s; }

        /* ã‚¹ã‚¿ãƒ¼ãƒˆç”»é¢ã®ãƒœã‚¿ãƒ³ç¾¤ */
        .start-btn-group { display: flex; flex-direction: column; gap: 15px; margin-top: 20px; align-items: center; }
        .btn-mode { padding: 15px 30px; border-radius: 30px; font-size: 16px; font-weight: bold; cursor: pointer; width: 100%; max-width: 320px; border: 2px solid transparent; transition: all 0.2s; }
        .btn-simple { background: white; border-color: var(--accent-color); color: var(--accent-color); }
        .btn-simple:hover { background: #f0f9f4; }
        .btn-precision { background: var(--accent-color); color: white; box-shadow: 0 4px 10px rgba(39, 174, 96, 0.3); }
        .btn-precision:hover { background: #219150; transform: translateY(-2px); }

        /* çµæœç”»é¢ã‚¹ã‚¿ã‚¤ãƒ« */
        .report-section { text-align: left; margin-bottom: 40px; }
        .report-title { font-size: 1.2em; font-weight: bold; color: var(--primary-color); border-bottom: 2px solid #eee; padding-bottom: 10px; margin-bottom: 15px; }
        
        #radar-chart-container { width: 100%; max-width: 350px; margin: 0 auto 20px auto; position: relative; }
        .radar-polygon { stroke-dasharray: 1000; stroke-dashoffset: 1000; animation: drawPoly 1.5s forwards ease-out; }
        @keyframes drawPoly { to { stroke-dashoffset: 0; } }

        .balance-bar-container { display: flex; height: 20px; width: 100%; border-radius: 10px; overflow: hidden; margin-bottom: 10px; }
        .balance-bar { height: 100%; }
        .balance-legend { display: flex; flex-wrap: wrap; gap: 10px; font-size: 11px; color: #666; justify-content: center; margin-bottom: 20px;}
        .legend-dot { width: 10px; height: 10px; display: inline-block; border-radius: 50%; margin-right: 3px; }

        /* ã‚¢ãƒ‰ãƒã‚¤ã‚¹ãƒœãƒƒã‚¯ã‚¹ï¼ˆé™çš„ï¼‰ */
        .advice-box { 
            background: #fff; border: 1px solid #eee; padding: 20px; border-radius: 8px; margin-bottom: 20px; font-size: 0.95em; line-height: 1.7;
            box-shadow: 0 2px 5px rgba(0,0,0,0.02);
        }
        .advice-header { font-weight: bold; color: var(--primary-color); margin-bottom: 10px; display: block; border-bottom: 1px dashed #ddd; padding-bottom: 5px;}
        .advice-sub { font-size: 0.9em; color: #7f8c8d; margin-bottom: 5px; font-weight: bold; }
        .advice-text { margin-bottom: 10px; }
        .advice-weakness { background: #fff5f5; border-left: 5px solid #e74c3c; }
        
        /* â–¼â–¼â–¼ AIãƒãƒ£ãƒƒãƒˆ UIã‚¹ã‚¿ã‚¤ãƒ« (è¿½åŠ ) â–¼â–¼â–¼ */
        .ai-chat-wrapper {
            background: #f4f6f8;
            border-radius: 12px;
            padding: 20px;
            margin-top: 30px;
            border: 1px solid #e1e4e8;
        }
        .chat-history {
            max-height: 500px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-bottom: 15px;
            padding: 5px;
        }
        .message {
            padding: 12px 16px;
            border-radius: 12px;
            font-size: 0.95em;
            line-height: 1.6;
            max-width: 90%;
            word-wrap: break-word;
        }
        .message-ai {
            background: white;
            color: #333;
            align-self: flex-start;
            border: 1px solid #e0e0e0;
            white-space: pre-wrap; /* æ”¹è¡Œã‚’åæ˜  */
        }
        .message-user {
            background: var(--accent-color);
            color: white;
            align-self: flex-end;
            text-align: left;
        }
        .loading-dots {
            text-align: center;
            color: #7f8c8d;
            font-size: 0.9em;
            padding: 10px;
            display: none; /* ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆéè¡¨ç¤º */
        }
        .chat-input-area {
            display: flex;
            gap: 10px;
        }
        .chat-input {
            flex: 1;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 25px;
            font-size: 16px;
            outline: none;
        }
        .chat-input:focus { border-color: var(--accent-color); }
        .btn-send {
            background: var(--primary-color);
            color: white;
            border: none;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .btn-send:hover { background: #1a252f; }
        .btn-send:disabled { background: #ccc; cursor: not-allowed; }

        /* â–¼â–¼â–¼ ãƒªã‚¹ãƒˆã‚¹ã‚¿ã‚¤ãƒ«ï¼ˆå¸¸æ™‚è¡¨ç¤ºå‹ï¼‰ â–¼â–¼â–¼ */
        .rank-list { list-style: none; padding: 0; margin: 0; }
        .rank-item { 
            border-bottom: 1px solid #eee; background: #fff; padding: 15px;
            display: flex; flex-direction: column; gap: 5px;
        }
        .rank-item:last-child { border-bottom: none; }
        
        .rank-item.top5 { background: #fdfdfd; border-left: 4px solid var(--accent-color); padding-left: 11px; }
        .rank-item.bottom5 { background: #fafafa; color: #999; }

        .rank-main-row { display: flex; align-items: center; justify-content: space-between; }
        
        .rank-num { font-weight: bold; width: 30px; text-align: center; color: #999; font-size: 1.1em;}
        .top5 .rank-num { color: var(--accent-color); font-size: 1.3em; }
        
        .rank-name { font-weight: bold; font-size: 1.05em; color: var(--primary-color); display: flex; align-items: center; flex-wrap: wrap; gap: 5px; }
        .rank-name small { font-weight: normal; color: #aaa; font-size: 0.85em; }
        
        .domain-tag { font-size: 0.7em; padding: 2px 6px; border-radius: 4px; color: white; vertical-align: text-bottom; margin-right: 5px; }
        
        .rank-desc { font-size: 0.9em; color: #666; margin-left: 30px; line-height: 1.5; }

        .btn-start { background: var(--accent-color); color: white; border: none; padding: 15px 40px; font-size: 18px; border-radius: 30px; cursor: pointer; font-weight: bold; margin-top: 20px; width: 100%; max-width: 300px; }
        .hidden { display: none; }

        @media (max-width: 600px) {
            .container { padding: 25px 20px; margin-top: 10px; }
            .scale-btn { width: 13vw; height: 13vw; max-width: 50px; max-height: 50px; }
            .rank-desc { margin-left: 0; margin-top: 5px; }
        }
    </style>
</head>
<body>

<div class="container">
    <button id="btn-back" class="btn-back hidden" onclick="goBack()">&#8592; æˆ»ã‚‹</button>

    <div class="coach-header">
        <div class="coach-title">Strengths Coach AI</div>
        <h1 id="page-title">æ‰èƒ½ã®æºæ³‰è¨ºæ–­</h1>
    </div>

    <div id="start-screen">
        <div style="text-align: left; background: #eef2f5; padding: 20px; border-radius: 8px; margin-bottom: 20px;">
            <p><strong>ã€è¨ºæ–­ãƒ¢ãƒ¼ãƒ‰ã‚’é¸æŠã€‘</strong></p>
            <ul style="padding-left: 20px; color: #555; font-size: 0.95em;">
                <li><strong>ç°¡æ˜“è¨ºæ–­ (34å•)</strong>: æ™‚é–“ãŒãªã„æ–¹å‘ã‘ã€‚å„è³‡è³ª1å•ã§å‚¾å‘ã‚’è¦‹ã¾ã™ã€‚</li>
                <li><strong>ç²¾å¯†è¨ºæ–­ (102å•)</strong>: æœ¬æ ¼çš„ãªåˆ†æç”¨ã€‚å„è³‡è³ª3å•ã§æ·±ãæ˜ã‚Šä¸‹ã’ã¾ã™ã€‚</li>
            </ul>
        </div>
        
        <div class="start-btn-group">
            <button class="btn-mode btn-simple" onclick="startQuiz('simple')">âš¡ï¸ ã‚µã‚¯ãƒƒã¨ç°¡æ˜“è¨ºæ–­ (34å•)</button>
            <button class="btn-mode btn-precision" onclick="startQuiz('precision')">ğŸ” ã‚¬ãƒƒãƒ„ãƒªç²¾å¯†è¨ºæ–­ (102å•)</button>
        </div>
    </div>

    <div id="quiz-screen" class="hidden">
        <span id="q-type" class="question-type-badge">Q</span>
        <div id="question-text" class="question-statement">è³ªå•æ–‡</div>

        <div class="choices-wrapper">
            <div class="choice-box box-a">
                <span class="choice-badge badge-a">A</span>
                <span id="text-a">Aã®é¸æŠè‚¢</span>
            </div>
            <div class="choice-box box-b">
                <span class="choice-badge badge-b">B</span>
                <span id="text-b">Bã®é¸æŠè‚¢</span>
            </div>
        </div>

        <div class="scale-container">
            <button class="scale-btn large btn-color-a" onclick="handleAnswer(1)">A</button>
            <button class="scale-btn medium btn-color-a" onclick="handleAnswer(2)">Aã‚„ã‚„</button>
            <button class="scale-btn small" onclick="handleAnswer(3)">ãƒ¼</button>
            <button class="scale-btn medium btn-color-b" onclick="handleAnswer(4)">Bã‚„ã‚„</button>
            <button class="scale-btn large btn-color-b" onclick="handleAnswer(5)">B</button>
        </div>

        <div class="scale-guide">
            <span style="color:var(--sub-color)">â† Aã«å¼·ãå½“ã¦ã¯ã¾ã‚‹</span>
            <span style="color:var(--accent-color)">Bã«å¼·ãå½“ã¦ã¯ã¾ã‚‹ â†’</span>
        </div>

        <div class="progress-section">
            <div style="display:flex; justify-content:space-between; margin-bottom:5px; font-size:12px; color:#aaa;">
                <span id="progress-text">0 / 0</span>
            </div>
            <div class="progress-bar-bg">
                <div id="progress-bar" class="progress-bar-fill"></div>
            </div>
        </div>
    </div>

    <div id="result-screen" class="hidden">
        
        <div class="report-section">
            <div class="report-title">ã‚ãªãŸã®ã‚¨ãƒãƒ«ã‚®ãƒ¼ãƒãƒ©ãƒ³ã‚¹</div>
            <div id="radar-chart-container"></div>
            <div class="balance-bar-container" id="balance-bar-container"></div>
            <div class="balance-legend">
                <span><span class="legend-dot" style="background:var(--executing)"></span>å®Ÿè¡ŒåŠ›</span>
                <span><span class="legend-dot" style="background:var(--influencing)"></span>å½±éŸ¿åŠ›</span>
                <span><span class="legend-dot" style="background:var(--relationship)"></span>äººé–“é–¢ä¿‚</span>
                <span><span class="legend-dot" style="background:var(--strategic)"></span>æˆ¦ç•¥çš„æ€è€ƒ</span>
            </div>
        </div>

        <div class="report-section">
            <div class="report-title">AIã‚³ãƒ¼ãƒã«ã‚ˆã‚‹è©³ç´°åˆ†æ</div>
            <p style="font-size:0.9em; color:#666;">ã‚ãªãŸã®è¨ºæ–­çµæœã«åŸºã¥ãã€ä¸–ç•Œãƒˆãƒƒãƒ—ã‚¯ãƒ©ã‚¹ã®ã‚³ãƒ¼ãƒAIãŒå¼·ã¿ã®æ´»ã‹ã—æ–¹ã‚’ã‚¢ãƒ‰ãƒã‚¤ã‚¹ã—ã¾ã™ã€‚</p>
            
            <div class="ai-chat-wrapper">
                <div id="chat-history" class="chat-history">
                    </div>
                
                <div id="loading-indicator" class="loading-dots">
                    AIãŒåˆ†æãƒ¬ãƒãƒ¼ãƒˆã‚’ä½œæˆä¸­... ğŸ–Šï¸<br><small>(30ç§’ã»ã©ã‹ã‹ã‚‹å ´åˆãŒã‚ã‚Šã¾ã™)</small>
                </div>

                <div class="chat-input-area">
                    <input type="text" id="user-input" class="chat-input" placeholder="è³ªå•ã‚’å…¥åŠ› (ä¾‹: å–¶æ¥­è·ã¯ã©ã†ï¼Ÿ)" disabled>
                    <button id="btn-send" class="btn-send" onclick="sendUserMessage()" disabled>â¤</button>
                </div>
            </div>
        </div>

        <div class="report-section">
            <div class="report-title">å…¨34è³‡è³ªã®æ§‹æˆãƒ¬ãƒãƒ¼ãƒˆ</div>
            <ul id="full-rank-list" class="rank-list"></ul>
        </div>

        <button class="btn-start" onclick="location.reload()" style="background:#95a5a6; margin-top:30px;">ãƒˆãƒƒãƒ—ã«æˆ»ã‚‹</button>
    </div>
</div>

<script>
    // â–¼â–¼â–¼ APIã‚­ãƒ¼è¨­å®šã‚¨ãƒªã‚¢ â–¼â–¼â–¼
    // ã“ã“ã«Difyã§å–å¾—ã—ãŸAPIã‚­ãƒ¼ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚
    // â€»æ³¨æ„: Webã‚µã‚¤ãƒˆã¨ã—ã¦å…¬é–‹ã™ã‚‹å ´åˆã€ã“ã®ã‚­ãƒ¼ã¯ä»–äººã«è¦‹ãˆã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚
    // æœ¬ç•ªé‹ç”¨ã§ã¯ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰çµŒç”±ã§ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã“ã¨ã‚’æ¨å¥¨ã—ã¾ã™ã€‚
    const DIFY_API_KEY = "app-m83jKdkjZkNWiNjMzuHeBcD8"; 
    const DIFY_BASE_URL = "https://api.dify.ai/v1";

    // ãƒãƒ£ãƒƒãƒˆç”¨å¤‰æ•°
    let conversationId = "";
    let userId = "user_" + Math.random().toString(36).substr(2, 9); // ãƒ©ãƒ³ãƒ€ãƒ ãªãƒ¦ãƒ¼ã‚¶ãƒ¼ID

    // ãƒ‡ãƒ¼ã‚¿å®šç¾© (çŸ­ç¸®ã®ãŸã‚ä¸€éƒ¨çœç•¥ãªã—ã§ãã®ã¾ã¾ä½¿ã„ã¾ã™)
    const diagnosisData = {
      "themes": [
        // --- å®Ÿè¡ŒåŠ› ---
        { "name_jp": "é”æˆæ¬²", "name_en": "Achiever", "domain": "Executing", "summary": { "desc": "ã‚¹ã‚¿ãƒŸãƒŠæ—ºç››ã§ã€æ¯æ—¥ä½•ã‹ã‚’æˆã—é‚ã’ãŸã„æ¬²æ±‚ã‚’æŒã¤ã€‚" }, "questions": [{ "text": "ä½•ã‚‚ãªã„ä¼‘æ—¥ã€é ­ã®ä¸­ã¯ï¼Ÿ", "options": {"A": "å®Œå…¨ã«ä¼‘ã‚ã‚‹", "B": "ä½•ã‹æœ‰æ„ç¾©ãªã“ã¨ã‚’ã—ãªãã‚ƒã¨ã‚½ãƒ¯ã‚½ãƒ¯"} }, { "text": "ä¸€æ—¥ã®çµ‚ã‚ã‚Šã®æœ€é«˜ã®æ°—åˆ†ï¼Ÿ", "options": {"A": "æ¥½ã—ãéã”ã›ãŸæ™‚", "B": "ã‚„ã‚‹ã¹ãã“ã¨ã‚’å…¨éƒ¨çµ‚ã‚ã‚‰ã›ãŸæ™‚"} }, { "text": "ãƒªã‚¹ãƒˆã‚’æ¶ˆã™ã®ãŒå¥½ãï¼Ÿ", "options": {"A": "ãªã„", "B": "å¤§å¥½ã"} }] },
        { "name_jp": "ã‚¢ãƒ¬ãƒ³ã‚¸", "name_en": "Arranger", "domain": "Executing", "summary": { "desc": "å¤šãã®è¦ç´ ã‚’æ•´ç†ã—ã€æœ€ã‚‚åŠ¹ç‡çš„ãªæ§‹æˆã‚’çµ„ã¿ç«‹ã¦ã‚‹ã€‚" }, "questions": [{ "text": "è¤‡é›‘ãªçŠ¶æ³ï¼Ÿ", "options": {"A": "æ‰‹é †é€šã‚Šã‚„ã‚ŠãŸã„", "B": "åŠ¹ç‡çš„ã«çµ„ã¿æ›¿ãˆãŸã„"} }, { "text": "æ€¥ãªäºˆå®šå¤‰æ›´ï¼Ÿ", "options": {"A": "ã‚¹ãƒˆãƒ¬ã‚¹", "B": "ã©ã†æŒãã‹ãƒ¯ã‚¯ãƒ¯ã‚¯ã™ã‚‹"} }, { "text": "æ—…è¡Œã®è¨ˆç”»ï¼Ÿ", "options": {"A": "è¨ˆç”»é€šã‚Š", "B": "ç›´å‰ã¾ã§å¤‰ãˆã‚‹"} }] },
        { "name_jp": "ä¿¡å¿µ", "name_en": "Belief", "domain": "Executing", "summary": { "desc": "ç¢ºå›ºãŸã‚‹ä¾¡å€¤è¦³ã‚’æŒã¡ã€ãã‚Œã«åŸºã¥ã„ã¦è¡Œå‹•ã™ã‚‹ã€‚" }, "questions": [{ "text": "ä»•äº‹é¸ã³ã§å¤§äº‹ãªã®ã¯ï¼Ÿ", "options": {"A": "æ¡ä»¶ã‚„ãƒ¡ãƒªãƒƒãƒˆ", "B": "ä¾¡å€¤è¦³ã«åˆã†ã‹"} }, { "text": "ç†±ãç‡ƒãˆã¦ã„ã‚‹äººã‚’è¦‹ã‚‹ã¨ï¼Ÿ", "options": {"A": "å†·é™ã«ãªã‚Œã°ã„ã„ã®ã«", "B": "å¿ƒã‚’å‹•ã‹ã•ã‚Œã‚‹"} }, { "text": "ä¿¡æ¡ã«åã™ã‚‹ä»•äº‹ï¼Ÿ", "options": {"A": "å‰²ã‚Šåˆ‡ã‚‹", "B": "æ–­ã‚‹"} }] },
        { "name_jp": "å…¬å¹³æ€§", "name_en": "Consistency", "domain": "Executing", "summary": { "desc": "ã‚ã‚‰ã‚†ã‚‹äººã‚’å¹³ç­‰ã«æ‰±ã„ã€ä¸€è²«ã—ãŸãƒ«ãƒ¼ãƒ«ã‚’é‡ã‚“ã˜ã‚‹ã€‚" }, "questions": [{ "text": "ãƒãƒ¼ãƒ é‹å–¶ã§å¤§äº‹ãªã®ã¯ï¼Ÿ", "options": {"A": "å€‹åˆ¥ã®äº‹æƒ…", "B": "å…¨å“¡åŒã˜ãƒ«ãƒ¼ãƒ«"} }, { "text": "ç‰¹åˆ¥æ‰±ã„ã‚’è¦‹ã‚‹ã¨ï¼Ÿ", "options": {"A": "æµã™", "B": "ä¸å…¬å¹³ã ã¨ã‚¤ãƒ©ã¤ã"} }, { "text": "ãƒãƒ‹ãƒ¥ã‚¢ãƒ«åŒ–ï¼Ÿ", "options": {"A": "è‡¨æ©Ÿå¿œå¤‰ãŒã„ã„", "B": "èª°ã§ã‚‚åŒã˜ã«ã§ãã‚‹ã‚ˆã†æ±ºã‚ã‚‹"} }] },
        { "name_jp": "æ…é‡ã•", "name_en": "Deliberative", "domain": "Executing", "summary": { "desc": "ç´°å¿ƒã®æ³¨æ„ã‚’æ‰•ã„ã€ãƒªã‚¹ã‚¯ã‚’æƒ³å®šã—ã¦è¨ˆç”»ã‚’é€²ã‚ã‚‹ã€‚" }, "questions": [{ "text": "æ–°ã—ã„è©±ã‚’èãã¨ï¼Ÿ", "options": {"A": "æœŸå¾…ã™ã‚‹", "B": "è½ã¨ã—ç©´ãŒãªã„ã‹è­¦æˆ’ã™ã‚‹"} }, { "text": "ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãªè©±ï¼Ÿ", "options": {"A": "ã™ãè©±ã™", "B": "è­¦æˆ’ã—ã¦è©±ã•ãªã„"} }, { "text": "æ±ºæ–­ã™ã‚‹ã¨ãï¼Ÿ", "options": {"A": "ç›´æ„Ÿ", "B": "ãƒªã‚¹ã‚¯ã‚’å¾¹åº•çš„ã«èª¿ã¹ã‚‹"} }] },
        { "name_jp": "è¦å¾‹æ€§", "name_en": "Discipline", "domain": "Executing", "summary": { "desc": "ç§©åºã¨è¨ˆç”»ã‚’å¥½ã¿ã€ç‰©äº‹ã‚’æœŸé™é€šã‚Šã«é€²ã‚ã‚‹ã€‚" }, "questions": [{ "text": "ãã¡ã‚ƒãã¡ã‚ƒãªçŠ¶æ³ï¼Ÿ", "options": {"A": "æ°—ã«ã—ãªã„", "B": "æ•´ç†æ•´é “ã—ãŸããªã‚‹"} }, { "text": "äºˆå®šé€šã‚Šé€²ã‚€ã¨ï¼Ÿ", "options": {"A": "æ™®é€š", "B": "å¿«æ„Ÿã‚’è¦šãˆã‚‹"} }, { "text": "ç· ã‚åˆ‡ã‚Šï¼Ÿ", "options": {"A": "ã‚®ãƒªã‚®ãƒª", "B": "è¨ˆç”»çš„ã«é€²ã‚ã‚‹"} }] },
        { "name_jp": "ç›®æ¨™å¿—å‘", "name_en": "Focus", "domain": "Executing", "summary": { "desc": "æ˜ç¢ºãªç›®çš„åœ°ã‚’å®šã‚ã€ãã“ã«å‘ã‹ã£ã¦é›†ä¸­ã—ç¶šã‘ã‚‹ã€‚" }, "questions": [{ "text": "è©±ãŒè„±ç·šã—ãŸã‚‰ï¼Ÿ", "options": {"A": "æ¥½ã—ã‚€", "B": "ã‚ºãƒ¬ã¦ã‚‹ã¨æŒ‡æ‘˜ã—ãŸããªã‚‹"} }, { "text": "ç›®æ¨™ãŒãªã„æ™‚é–“ï¼Ÿ", "options": {"A": "æ°—æ¥½", "B": "è½ã¡ç€ã‹ãªã„"} }, { "text": "åˆ¥ã®é¢ç™½ãã†ãªã“ã¨ï¼Ÿ", "options": {"A": "ãã£ã¡ã‚„ã‚‹", "B": "ä»Šã®ã‚´ãƒ¼ãƒ«ã¾ã§å¾Œå›ã—"} }] },
        { "name_jp": "è²¬ä»»æ„Ÿ", "name_en": "Responsibility", "domain": "Executing", "summary": { "desc": "ä¸€åº¦ç´„æŸã—ãŸã“ã¨ã¯å¿…ãšã‚„ã‚Šé‚ã’ã‚‹ã¨ã„ã†å¼·ã„å¿ƒç†çš„æ‹˜æŸåŠ›ã‚’æŒã¤ã€‚" }, "questions": [{ "text": "ä»•äº‹ãŒçµ‚ã‚ã‚‰ãªã„ï¼Ÿ", "options": {"A": "ç„¡ç†ãªã‚‚ã®ã¯ç„¡ç†", "B": "çµ¶å¯¾ã‚„ã‚Šé‚ã’ãªãã‚ƒã¨ç„¦ã‚‹"} }, { "text": "ç´„æŸã‚’ç ´ã£ãŸã‚‰ï¼Ÿ", "options": {"A": "è¬ã‚‹", "B": "ç½ªæ‚ªæ„Ÿã§åŸ‹ã‚åˆã‚ã›ã™ã‚‹"} }, { "text": "èª°ã‚‚è¦‹ã¦ãªã„ãƒ«ãƒ¼ãƒ«ï¼Ÿ", "options": {"A": "æ‰‹æŠœãã‹ã‚‚", "B": "å¿…ãšå®ˆã‚‹"} }] },
        { "name_jp": "å›å¾©å¿—å‘", "name_en": "Restorative", "domain": "Executing", "summary": { "desc": "å•é¡Œã‚’è§£æ±ºã™ã‚‹ã“ã¨ã«æƒ…ç†±ã‚’ç‡ƒã‚„ã—ã€æ­£å¸¸ãªçŠ¶æ…‹ã«æˆ»ã™ã€‚" }, "questions": [{ "text": "å¥½ããªä»•äº‹ï¼Ÿ", "options": {"A": "ä¼¸ã°ã™ä»•äº‹", "B": "ãƒã‚¤ãƒŠã‚¹ã‚’ã‚¼ãƒ­ã«æˆ»ã™ä»•äº‹"} }, { "text": "ãƒŸã‚¹ã‚’è¦‹ã¤ã‘ãŸã‚‰ï¼Ÿ", "options": {"A": "ã‚¹ãƒ«ãƒ¼", "B": "ç›´ã—ãŸãã¦ã‚¦ã‚ºã‚¦ã‚ºã™ã‚‹"} }, { "text": "éå»ã®å¤±æ•—ï¼Ÿ", "options": {"A": "å¿˜ã‚Œã‚‹", "B": "åŸå› ã‚’åˆ†æã™ã‚‹"} }] },
        // --- å½±éŸ¿åŠ› ---
        { "name_jp": "æ´»ç™ºæ€§", "name_en": "Activator", "domain": "Influencing", "summary": { "desc": "æ€è€ƒã‚ˆã‚Šã‚‚è¡Œå‹•ã‚’é‡è¦–ã—ã€ã¾ãšã¯ã‚„ã£ã¦ã¿ã‚‹ã“ã¨ã§äº‹æ…‹ã‚’å‹•ã‹ã™ã€‚" }, "questions": [{ "text": "æ–°ã—ã„ã“ã¨ï¼Ÿ", "options": {"A": "èª¿ã¹ã¦ã‹ã‚‰", "B": "ã¾ãšã‚„ã£ã¦ã¿ã‚‹"} }, { "text": "é•·ã„è­°è«–ï¼Ÿ", "options": {"A": "å¤§äº‹", "B": "æ—©ãå‹•ã“ã†ãœã¨ã‚¤ãƒ©ã‚¤ãƒ©"} }, { "text": "èª¬æ˜æ›¸ï¼Ÿ", "options": {"A": "èª­ã‚€", "B": "ã„ã˜ã‚ŠãªãŒã‚‰è¦šãˆã‚‹"} }] },
        { "name_jp": "æŒ‡ä»¤æ€§", "name_en": "Command", "domain": "Influencing", "summary": { "desc": "ä¸»å°æ¨©ã‚’æ¡ã‚Šã€æ˜ç¢ºãªæŒ‡ç¤ºã‚’å‡ºã—ã¦äººã€…ã‚’å°ãã€‚" }, "questions": [{ "text": "æ„è¦‹ã®å¯¾ç«‹ï¼Ÿ", "options": {"A": "é¿ã‘ãŸã„", "B": "ã¶ã¤ã‘åˆã£ã¦è§£æ±ºã—ãŸã„"} }, { "text": "èª°ã‚‚æ±ºã‚ãªã„æ™‚ï¼Ÿ", "options": {"A": "å¾…ã¤", "B": "ç§ãŒæ±ºã‚ã‚‹ã¨è¨€ã†"} }, { "text": "è€³ã®ç—›ã„ã“ã¨ï¼Ÿ", "options": {"A": "è¨€ã„ã«ãã„", "B": "ã¯ã£ãã‚Šè¨€ã†"} }] },
        { "name_jp": "ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³", "name_en": "Communication", "domain": "Influencing", "summary": { "desc": "è¨€è‘‰ã‚’ä½¿ã£ã¦äººã€…ã‚’é­…äº†ã—ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’åŠ¹æœçš„ã«ä¼ãˆã‚‹ã€‚" }, "questions": [{ "text": "è€ƒãˆã‚’ã¾ã¨ã‚ã‚‹æ™‚ï¼Ÿ", "options": {"A": "æ›¸ã", "B": "è©±ã™"} }, { "text": "å¤§å‹¢ã®å‰ã§ãƒ—ãƒ¬ã‚¼ãƒ³ï¼Ÿ", "options": {"A": "å«Œã ", "B": "ãƒ¯ã‚¯ãƒ¯ã‚¯ã™ã‚‹"} }, { "text": "ä¼ãˆã‚‹æ™‚ï¼Ÿ", "options": {"A": "ç°¡æ½”ã«", "B": "é¢ç™½ãã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã§"} }] },
        { "name_jp": "ç«¶äº‰æ€§", "name_en": "Competition", "domain": "Influencing", "summary": { "desc": "ä»–è€…ã¨ã®æ¯”è¼ƒã«ãŠã„ã¦è‡ªåˆ†ã®é€²æ­©ã‚’æ¸¬å®šã—ã€å‹åˆ©ã‚’æ¸‡æœ›ã™ã‚‹ã€‚" }, "questions": [{ "text": "æˆåŠŸã®åŸºæº–ï¼Ÿ", "options": {"A": "æ˜¨æ—¥ã®è‡ªåˆ†", "B": "ãƒ©ã‚¤ãƒãƒ«ã‚ˆã‚Šä¸Šã‹"} }, { "text": "è² ã‘ãŸæ™‚ï¼Ÿ", "options": {"A": "æ¥½ã—ã‘ã‚Œã°ã„ã„", "B": "æ‚”ã—ãã¦ãŸã¾ã‚‰ãªã„"} }, { "text": "ä½œæ¥­ä¸­ï¼Ÿ", "options": {"A": "ãƒã‚¤ãƒšãƒ¼ã‚¹", "B": "éš£ã®äººã‚ˆã‚Šé€Ÿãã‚„ã‚ŠãŸã„"} }] },
        { "name_jp": "æœ€ä¸Šå¿—å‘", "name_en": "Maximizer", "domain": "Influencing", "summary": { "desc": "å¹³å‡ã§ã¯ãªãå“è¶Šæ€§ã‚’æ±‚ã‚ã€å¼·ã¿ã‚’æœ€å¤§é™ã«ç£¨ãä¸Šã’ã‚‹ã€‚" }, "questions": [{ "text": "æ™‚é–“ã‚’ä½¿ã†ãªã‚‰ï¼Ÿ", "options": {"A": "è‹¦æ‰‹ã®å…‹æœ", "B": "å¾—æ„ã‚’ç£¨ã"} }, { "text": "å¼±ç‚¹ä¿®æ­£ï¼Ÿ", "options": {"A": "å¿…è¦", "B": "æ™‚é–“ã®ç„¡é§„"} }, { "text": "ä»•ä¸Šã’ï¼Ÿ", "options": {"A": "åˆæ ¼ç‚¹ã§OK", "B": "ç´å¾—ã„ãã¾ã§ç£¨ã"} }] },
        { "name_jp": "è‡ªå·±ç¢ºä¿¡", "name_en": "Self-Assurance", "domain": "Influencing", "summary": { "desc": "è‡ªåˆ†ã®èƒ½åŠ›ã¨åˆ¤æ–­åŠ›ã«çµ¶å¯¾çš„ãªè‡ªä¿¡ã‚’æŒã¡ã€ãƒªã‚¹ã‚¯ã‚’æã‚Œãªã„ã€‚" }, "questions": [{ "text": "æœ€å¾Œã®æ±ºæ–­ï¼Ÿ", "options": {"A": "ãƒ‡ãƒ¼ã‚¿", "B": "ç›´æ„Ÿ"} }, { "text": "åå¯¾ã•ã‚ŒãŸã‚‰ï¼Ÿ", "options": {"A": "ä¸å®‰ã«ãªã‚‹", "B": "è‡ªåˆ†ã¯æ­£ã—ã„ã¨æ€ã†"} }, { "text": "ãƒªã‚¹ã‚¯ã¸ã®æŒ‘æˆ¦ï¼Ÿ", "options": {"A": "æ…é‡ã«", "B": "ãªã‚“ã¨ã‹ãªã‚‹ã¨é£›ã³è¾¼ã‚€"} }] },
        { "name_jp": "è‡ªæˆ‘", "name_en": "Significance", "domain": "Influencing", "summary": { "desc": "ä»–è€…ã‹ã‚‰é‡è¦äººç‰©ã¨ã—ã¦èªã‚ã‚‰ã‚Œã€å¤§ããªå½±éŸ¿ã‚’ä¸ãˆãŸã„ã¨é¡˜ã†ã€‚" }, "questions": [{ "text": "ã‚„ã‚ŠãŒã„ã¯ï¼Ÿ", "options": {"A": "è£æ–¹ã®è²¢çŒ®", "B": "å¤šãã®äººã«èªã‚ã‚‰ã‚Œã‚‹ã“ã¨"} }, { "text": "ã‚¹ãƒ«ãƒ¼ã•ã‚ŒãŸã‚‰ï¼Ÿ", "options": {"A": "æ°—ã«ã—ãªã„", "B": "ãƒ—ãƒ©ã‚¤ãƒ‰ãŒå‚·ã¤ã"} }, { "text": "å½¹å‰²ï¼Ÿ", "options": {"A": "ç¸ã®ä¸‹", "B": "è¡¨èˆå°"} }] },
        { "name_jp": "ç¤¾äº¤æ€§", "name_en": "Woo", "domain": "Influencing", "summary": { "desc": "è¦‹çŸ¥ã‚‰ã¬äººã¨å‡ºä¼šã„ã€å‘³æ–¹ã«ã¤ã‘ã‚‹ã“ã¨ã«å–œã³ã‚’æ„Ÿã˜ã‚‹ã€‚" }, "questions": [{ "text": "çŸ¥ã‚‰ãªã„äººã®ä¼šå ´ï¼Ÿ", "options": {"A": "ä¸å®‰", "B": "å‡ºä¼šã„ãŒã‚ã‚Šãã†ã§ãƒ¯ã‚¯ãƒ¯ã‚¯"} }, { "text": "åˆå¯¾é¢ã®ä¼šè©±ï¼Ÿ", "options": {"A": "ç–²ã‚Œã‚‹", "B": "å…ƒæ°—ã«ãªã‚‹"} }, { "text": "äº¤æµä¼šï¼Ÿ", "options": {"A": "ã˜ã£ãã‚Š", "B": "ãŸãã•ã‚“ã®äººã¨æŒ¨æ‹¶"} }] },
        // --- äººé–“é–¢ä¿‚æ§‹ç¯‰åŠ› ---
        { "name_jp": "é©å¿œæ€§", "name_en": "Adaptability", "domain": "Relationship Building", "summary": { "desc": "æµã‚Œã«èº«ã‚’ä»»ã›ã€ã€Œä»Šã€ã“ã®ç¬é–“ã®å¤‰åŒ–ã«æŸ”è»Ÿã«å¯¾å¿œã™ã‚‹ã€‚" }, "questions": [{ "text": "å°†æ¥ã®è¨ˆç”»ï¼Ÿ", "options": {"A": "ã—ã£ã‹ã‚Šç«‹ã¦ã‚‹", "B": "ãã®æ™‚ã€…ã§è€ƒãˆã‚‹"} }, { "text": "äºˆå®šãŒæ¶ˆãˆãŸã‚‰ï¼Ÿ", "options": {"A": "ãƒ‘ãƒ‹ãƒƒã‚¯", "B": "åˆ¥ã®ã“ã¨ã—ã‚ˆã†"} }, { "text": "ä»•äº‹ã®é€²ã‚æ–¹ï¼Ÿ", "options": {"A": "ãƒ«ãƒ¼ãƒãƒ³", "B": "å¤‰åŒ–å¯¾å¿œ"} }] },
        { "name_jp": "é‹å‘½æ€è€ƒ", "name_en": "Connectedness", "domain": "Relationship Building", "summary": { "desc": "ã‚ã‚‰ã‚†ã‚‹äººã‚„ç‰©äº‹ã¯ã¤ãªãŒã£ã¦ã„ã‚‹ã¨ä¿¡ã˜ã€å¤§ããªè¦–ç‚¹ã‚’æŒã¤ã€‚" }, "questions": [{ "text": "å‡ºæ¥äº‹ã¯ï¼Ÿ", "options": {"A": "å¶ç„¶", "B": "æ„å‘³ãŒã‚ã‚‹"} }, { "text": "ã”ç¸ï¼Ÿ", "options": {"A": "ãŸã¾ãŸã¾", "B": "é‹å‘½ã‚’æ„Ÿã˜ã‚‹"} }, { "text": "è¦ªåˆ‡ï¼Ÿ", "options": {"A": "ãŸã ã®è¦ªåˆ‡", "B": "å·¡ã‚Šå·¡ã£ã¦è¿”ã£ã¦ãã‚‹"} }] },
        { "name_jp": "æˆé•·ä¿ƒé€²", "name_en": "Developer", "domain": "Relationship Building", "summary": { "desc": "ä»–è€…ã®æŒã¤å¯èƒ½æ€§ã‚’è¦‹æŠœãã€ãã®æˆé•·ã‚’åŠ©ã‘ã‚‹ã“ã¨ã«å–œã³ã‚’æ„Ÿã˜ã‚‹ã€‚" }, "questions": [{ "text": "äººã‚’è¦‹ã‚‹æ™‚ï¼Ÿ", "options": {"A": "ä»Šã®å®ŸåŠ›", "B": "å°†æ¥æ€§"} }, { "text": "èª°ã‹ã®é€²æ­©ï¼Ÿ", "options": {"A": "ã¾ã æœªç†Ÿ", "B": "æ„Ÿå‹•ã™ã‚‹"} }, { "text": "æ•™ãˆæ–¹ï¼Ÿ", "options": {"A": "æ‰‹ã£å–ã‚Šæ—©ã", "B": "æ°—ã¥ãã¾ã§å¾…ã¤"} }] },
        { "name_jp": "å…±æ„Ÿæ€§", "name_en": "Empathy", "domain": "Relationship Building", "summary": { "desc": "ä»–è€…ã®æ„Ÿæƒ…ã‚’è‡ªåˆ†ã®ã“ã¨ã®ã‚ˆã†ã«æ„Ÿã˜å–ã‚Šã€ç†è§£ã‚’ç¤ºã™ã€‚" }, "questions": [{ "text": "ç†è§£ã™ã‚‹æ™‚ï¼Ÿ", "options": {"A": "è«–ç†çš„ã«", "B": "æ„Ÿæƒ…ã«ãªã‚Šãã£ã¦"} }, { "text": "æ³£ã„ã¦ã„ã‚‹äººï¼Ÿ", "options": {"A": "å®¢è¦³è¦–", "B": "è‡ªåˆ†ã‚‚æ‚²ã—ããªã‚‹"} }, { "text": "ç›¸è«‡ï¼Ÿ", "options": {"A": "è§£æ±ºç­–", "B": "æ°—æŒã¡ã«å¯„ã‚Šæ·»ã†"} }] },
        { "name_jp": "èª¿å’Œæ€§", "name_en": "Harmony", "domain": "Relationship Building", "summary": { "desc": "å¯¾ç«‹ã‚’é¿ã‘ã€åˆæ„ç‚¹ã‚’è¦‹ã¤ã‘ã‚‹ã“ã¨ã§å ´ã®å¹³å’Œã‚’ä¿ã¤ã€‚" }, "questions": [{ "text": "ä¼šè­°ã®ã‚´ãƒ¼ãƒ«ï¼Ÿ", "options": {"A": "å¾¹åº•è­°è«–", "B": "å…¨å“¡ãŒç´å¾—ã™ã‚‹åˆæ„"} }, { "text": "æ€’é³´ã‚Šåˆã„ï¼Ÿ", "options": {"A": "æ´»æ°—ãŒã‚ã‚‹", "B": "æ­¢ã‚ã¦ã»ã—ã„"} }, { "text": "å¯¾ç«‹ï¼Ÿ", "options": {"A": "ä¸»å¼µã™ã‚‹", "B": "å¦¥å”ç‚¹ã‚’æ¢ã™"} }] },
        { "name_jp": "åŒ…å«", "name_en": "Includer", "domain": "Relationship Building", "summary": { "desc": "èª°ã‚‚æ’é™¤ã›ãšã€è¼ªã‚’åºƒã’ã¦å—ã‘å…¥ã‚Œã‚ˆã†ã¨ã™ã‚‹åŒ…å®¹åŠ›ã‚’æŒã¤ã€‚" }, "questions": [{ "text": "ãƒãƒ¼ãƒ ä½œã‚Šï¼Ÿ", "options": {"A": "å°‘æ•°ç²¾é‹­", "B": "å¤šãã®äººã«ãƒãƒ£ãƒ³ã‚¹ã‚’"} }, { "text": "è¼ªã«å…¥ã‚Œãªã„äººï¼Ÿ", "options": {"A": "æ”¾ç½®", "B": "å£°ã‚’ã‹ã‘ã‚‹"} }, { "text": "å¸­ãŒè¶³ã‚Šãªã„ï¼Ÿ", "options": {"A": "æ–­ã‚‹", "B": "è©°ã‚ã¦å…¥ã‚Œã‚‹"} }] },
        { "name_jp": "å€‹åˆ¥åŒ–", "name_en": "Individualization", "domain": "Relationship Building", "summary": { "desc": "ä¸€äººã²ã¨ã‚Šã®ãƒ¦ãƒ‹ãƒ¼ã‚¯ãªå€‹æ€§ã‚’è¦‹æŠœãã€ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã—ãŸå¯¾å¿œã‚’ã™ã‚‹ã€‚" }, "questions": [{ "text": "è©•ä¾¡ï¼Ÿ", "options": {"A": "å…±é€šç‚¹", "B": "ãã®äººã ã‘ã®ç‰¹å¾´"} }, { "text": "ä¸€æ‹¬ã‚Šï¼Ÿ", "options": {"A": "æ™®é€š", "B": "ã‚¤ãƒ©ãƒƒã¨ã™ã‚‹"} }, { "text": "ãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆï¼Ÿ", "options": {"A": "å®šç•ª", "B": "å¥½ã¿ã«åˆã‚ã›ã‚‹"} }] },
        { "name_jp": "ãƒã‚¸ãƒ†ã‚£ãƒ–", "name_en": "Positivity", "domain": "Relationship Building", "summary": { "desc": "æ¥½è¦³çš„ã§æƒ…ç†±ãŒã‚ã‚Šã€å‘¨å›²ã‚’æ˜ã‚‹ãå…ƒæ°—ã¥ã‘ã‚‹ã€‚" }, "questions": [{ "text": "ãƒ”ãƒ³ãƒï¼Ÿ", "options": {"A": "å‚™ãˆã‚‹", "B": "ãªã‚“ã¨ã‹ãªã‚‹"} }, { "text": "æš—ã„é›°å›²æ°—ï¼Ÿ", "options": {"A": "ä»•æ–¹ãªã„", "B": "ç¬‘ã‚ã›ãŸã„"} }, { "text": "ã‚„ã‚‹æ°—ï¼Ÿ", "options": {"A": "æŒ‡æ‘˜", "B": "è¤’ã‚ã‚‹"} }] },
        { "name_jp": "è¦ªå¯†æ€§", "name_en": "Relator", "domain": "Relationship Building", "summary": { "desc": "ç‰¹å®šã®äººã€…ã¨æ·±ãå …ã„ä¿¡é ¼é–¢ä¿‚ã‚’ç¯‰ãã“ã¨ã‚’å¥½ã‚€ã€‚" }, "questions": [{ "text": "äººé–“é–¢ä¿‚ï¼Ÿ", "options": {"A": "åºƒãæµ…ã", "B": "å°‘äººæ•°ã¨æ·±ã"} }, { "text": "ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆï¼Ÿ", "options": {"A": "è©±ã™", "B": "å£ã‚’ä½œã‚‹"} }, { "text": "äº¤æµï¼Ÿ", "options": {"A": "æ–°ã—ã„äºº", "B": "ã„ã¤ã‚‚ã®ãƒ¡ãƒ³ãƒãƒ¼"} }] },
        // --- æˆ¦ç•¥çš„æ€è€ƒåŠ› ---
        { "name_jp": "åˆ†ææ€è€ƒ", "name_en": "Analytical", "domain": "Strategic Thinking", "summary": { "desc": "ãƒ‡ãƒ¼ã‚¿ã‚„äº‹å®Ÿã«åŸºã¥ã„ã¦ã€ç‰©äº‹ã®åŸå› ã¨çµæœã‚’å®¢è¦³çš„ã«è¨¼æ˜ã™ã‚‹ã€‚" }, "questions": [{ "text": "æ„è¦‹ã‚’èãã¨ï¼Ÿ", "options": {"A": "å…±æ„Ÿ", "B": "è¨¼æ‹ ã¯ã‚ã‚‹ï¼Ÿ"} }, { "text": "ãƒ‡ãƒ¼ã‚¿èª¬æ˜ï¼Ÿ", "options": {"A": "å†·ãŸã„", "B": "ç¾ã—ã„"} }, { "text": "ä¸»å¼µï¼Ÿ", "options": {"A": "æƒ…ç†±", "B": "ãƒ‡ãƒ¼ã‚¿"} }] },
        { "name_jp": "åŸç‚¹æ€è€ƒ", "name_en": "Context", "domain": "Strategic Thinking", "summary": { "desc": "éå»ã‚’æŒ¯ã‚Šè¿”ã‚Šã€ç¾åœ¨ã®çŠ¶æ³ãŒãªãœã“ã†ãªã£ãŸã®ã‹ã‚’ç†è§£ã™ã‚‹ã€‚" }, "questions": [{ "text": "è¨ˆç”»ï¼Ÿ", "options": {"A": "æœªæ¥ã®ãƒ“ã‚¸ãƒ§ãƒ³", "B": "éå»ã®æˆåŠŸä¾‹"} }, { "text": "æ­´å²ï¼Ÿ", "options": {"A": "é€€å±ˆ", "B": "é¢ç™½ã„"} }, { "text": "æ–°ã—ã„ç’°å¢ƒï¼Ÿ", "options": {"A": "ç›®æ¨™è¨­å®š", "B": "èƒŒæ™¯èª¿æŸ»"} }] },
        { "name_jp": "æœªæ¥å¿—å‘", "name_en": "Futuristic", "domain": "Strategic Thinking", "summary": { "desc": "æœªæ¥ã®å¯èƒ½æ€§ã‚’é®®æ˜ã«ã‚¤ãƒ¡ãƒ¼ã‚¸ã—ã€å‘¨å›²ã«å¸Œæœ›ã‚’ä¸ãˆã‚‹ã€‚" }, "questions": [{ "text": "æ€è€ƒï¼Ÿ", "options": {"A": "ä»Šãƒ»éå»", "B": "10å¹´å¾Œ"} }, { "text": "æœªæ¥ã®è©±ï¼Ÿ", "options": {"A": "å†·ã‚ã‚‹", "B": "ãƒ¯ã‚¯ãƒ¯ã‚¯"} }, { "text": "å£ï¼Ÿ", "options": {"A": "è¶³å…ƒã‚’è¦‹ã‚‹", "B": "æˆåŠŸã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’è¦‹ã‚‹"} }] },
        { "name_jp": "ç€æƒ³", "name_en": "Ideation", "domain": "Strategic Thinking", "summary": { "desc": "ä¸€è¦‹é–¢ä¿‚ãªã„äº‹è±¡ã‚’çµã³ã¤ã‘ã€æ–°ã—ã„ã‚¢ã‚¤ãƒ‡ã‚¢ã‚’ç”Ÿã¿å‡ºã™ã€‚" }, "questions": [{ "text": "è§£æ±ºæ³•ï¼Ÿ", "options": {"A": "ç¢ºå®Ÿãªæ–¹æ³•", "B": "æ–¬æ–°ãªæ–¹æ³•"} }, { "text": "ã‚¢ã‚¤ãƒ‡ã‚¢å‡ºã—ï¼Ÿ", "options": {"A": "ç–²ã‚Œã‚‹", "B": "æ¥½ã—ã„"} }, { "text": "ç¹‹ãŒã‚Šï¼Ÿ", "options": {"A": "ãªã„", "B": "é¢ç™½ãŒã‚‹"} }] },
        { "name_jp": "åé›†å¿ƒ", "name_en": "Input", "domain": "Strategic Thinking", "summary": { "desc": "å¥½å¥‡å¿ƒæ—ºç››ã§ã€æƒ…å ±ã‚„çŸ¥è­˜ã‚’åé›†ãƒ»è“„ç©ã™ã‚‹ã“ã¨ã«å–œã³ã‚’æ„Ÿã˜ã‚‹ã€‚" }, "questions": [{ "text": "çŸ¥ã‚‰ãªã„è¨€è‘‰ï¼Ÿ", "options": {"A": "ã‚¹ãƒ«ãƒ¼", "B": "ã‚°ã‚°ã‚‹"} }, { "text": "ãƒãƒƒãƒˆï¼Ÿ", "options": {"A": "æ—©ãçµ‚ã‚ã‚ŠãŸã„", "B": "çŸ¥è­˜ãŒå¢—ãˆã¦å¿«æ„Ÿ"} }, { "text": "æœ¬ï¼Ÿ", "options": {"A": "æ¨ã¦ã‚‹", "B": "æºœã‚è¾¼ã‚€"} }] },
        { "name_jp": "å†…çœ", "name_en": "Intellection", "domain": "Strategic Thinking", "summary": { "desc": "ä¸€äººã§æ·±ãè€ƒãˆã€ç‰©äº‹ã®æœ¬è³ªã‚’æ¢æ±‚ã™ã‚‹ã“ã¨ã‚’å¥½ã‚€ã€‚" }, "questions": [{ "text": "è€ƒãˆã‚‹ã“ã¨ï¼Ÿ", "options": {"A": "æº–å‚™", "B": "éŠã³"} }, { "text": "ä¸€äººã®æ™‚é–“ï¼Ÿ", "options": {"A": "å¯‚ã—ã„", "B": "å¿…é ˆ"} }, { "text": "å“²å­¦è­°è«–ï¼Ÿ", "options": {"A": "é¿ã‘ã‚‹", "B": "å–œã¶"} }] },
        { "name_jp": "å­¦ç¿’æ¬²", "name_en": "Learner", "domain": "Strategic Thinking", "summary": { "desc": "å­¦ã¶ãƒ—ãƒ­ã‚»ã‚¹ãã®ã‚‚ã®ã‚’æ¥½ã—ã¿ã€å¸¸ã«å‘ä¸Šã—ã‚ˆã†ã¨ã™ã‚‹ã€‚" }, "questions": [{ "text": "æ–°ã—ã„ã“ã¨ï¼Ÿ", "options": {"A": "çµæœ", "B": "éç¨‹"} }, { "text": "çŸ¥ã‚‰ãªã„åˆ†é‡ï¼Ÿ", "options": {"A": "èˆˆå‘³ãªã„", "B": "ãƒ¯ã‚¯ãƒ¯ã‚¯"} }, { "text": "ååˆ†ãªã‚‰ï¼Ÿ", "options": {"A": "æ¥½ã—ãŸã„", "B": "å­¦ã³ç¶šã‘ãŸã„"} }] },
        { "name_jp": "æˆ¦ç•¥æ€§", "name_en": "Strategic", "domain": "Strategic Thinking", "summary": { "desc": "è¤‡é›‘ãªçŠ¶æ³ã‹ã‚‰ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’è¦‹å‡ºã—ã€ç›®çš„ã«è‡³ã‚‹æœ€é©ãªãƒ«ãƒ¼ãƒˆã‚’è¦‹ã¤ã‘ã‚‹ã€‚" }, "questions": [{ "text": "è¿·è·¯ï¼Ÿ", "options": {"A": "ä¸€ã¤ãšã¤", "B": "ç©ºã‹ã‚‰è¦‹ã‚‹"} }, { "text": "ãƒ—ãƒ©ãƒ³Bï¼Ÿ", "options": {"A": "é¢å€’", "B": "å®‰å¿ƒã™ã‚‹"} }, { "text": "è¡Œãè©°ã¾ã‚Šï¼Ÿ", "options": {"A": "ç²˜ã‚‹", "B": "åˆ¥ãƒ«ãƒ¼ãƒˆ"} }] }
      ]
    };

    let allQuestions = [];
    let currentQuestionIndex = 0;
    let scores = {}; 
    let perfectCounts = {}; 
    let historyStack = [];
    let currentMode = 'precision';

    const startScreen = document.getElementById('start-screen');
    const quizScreen = document.getElementById('quiz-screen');
    const resultScreen = document.getElementById('result-screen');
    const btnBack = document.getElementById('btn-back');
    
    function startQuiz(mode) {
        currentMode = mode;
        prepareQuestions(mode);
        currentQuestionIndex = 0;
        startScreen.classList.add('hidden');
        quizScreen.classList.remove('hidden');
        renderQuestion();
    }

    function prepareQuestions(mode) {
        allQuestions = [];
        scores = {};
        perfectCounts = {};
        historyStack = [];
        diagnosisData.themes.forEach(theme => {
            scores[theme.name_jp] = 0;
            perfectCounts[theme.name_jp] = 0;
            if(theme.questions) {
                let questionsToAdd = [];
                if (mode === 'simple') {
                    const randomIndex = Math.floor(Math.random() * theme.questions.length);
                    questionsToAdd.push(theme.questions[randomIndex]);
                } else {
                    questionsToAdd = theme.questions;
                }
                questionsToAdd.forEach(q => {
                    allQuestions.push({
                        theme: theme.name_jp,
                        name_en: theme.name_en,
                        type: "Q",
                        text: q.text,
                        options: q.options
                    });
                });
            }
        });
        
        for (let i = allQuestions.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [allQuestions[i], allQuestions[j]] = [allQuestions[j], allQuestions[i]];
        }
    }

    function renderQuestion() {
        if (currentQuestionIndex >= allQuestions.length) {
            showResult();
            return;
        }
        const q = allQuestions[currentQuestionIndex];
        
        if (currentQuestionIndex > 0) btnBack.classList.remove('hidden'); 
        else btnBack.classList.add('hidden');

        document.getElementById('question-text').textContent = q.text;
        document.getElementById('text-a').textContent = q.options.A;
        document.getElementById('text-b').textContent = q.options.B;

        const progress = ((currentQuestionIndex) / allQuestions.length) * 100;
        document.getElementById('progress-bar').style.width = `${progress}%`;
        document.getElementById('progress-text').textContent = `${currentQuestionIndex + 1} / ${allQuestions.length}`;
        
        window.scrollTo(0, 0);
    }

    function handleAnswer(scaleValue) {
        const q = allQuestions[currentQuestionIndex];
        let points = 0;
        switch(scaleValue) {
            case 1: points = 0; break;
            case 2: points = 5; break;
            case 3: points = 10; break;
            case 4: points = 20; break;
            case 5: 
                points = 30; 
                perfectCounts[q.theme]++; 
                break;
        }
        
        scores[q.theme] += points;
        historyStack.push({ theme: q.theme, points: points, isPerfect: (scaleValue === 5) });
        currentQuestionIndex++;
        setTimeout(renderQuestion, 150);
    }

    function goBack() {
        if (currentQuestionIndex === 0 || historyStack.length === 0) return;
        currentQuestionIndex--;
        const lastAction = historyStack.pop();
        if (lastAction) { 
            scores[lastAction.theme] -= lastAction.points; 
            if(lastAction.isPerfect) perfectCounts[lastAction.theme]--;
        }
        renderQuestion();
    }

    // â–¼â–¼â–¼ çµæœè¡¨ç¤ºã¨AIå‘¼ã³å‡ºã— â–¼â–¼â–¼
    function showResult() {
        quizScreen.classList.add('hidden');
        resultScreen.classList.remove('hidden');
        btnBack.classList.add('hidden');

        // ã‚½ãƒ¼ãƒˆãƒ­ã‚¸ãƒƒã‚¯
        const sortedScores = Object.entries(scores).sort((a, b) => {
            if (b[1] !== a[1]) return b[1] - a[1];
            return perfectCounts[b[0]] - perfectCounts[a[0]];
        });

        // ã‚°ãƒ©ãƒ•ã¨ãƒªã‚¹ãƒˆã®æç”»ï¼ˆæ—¢å­˜ãƒ­ã‚¸ãƒƒã‚¯ï¼‰
        drawRankList(sortedScores);
        drawBalanceBar(sortedScores);
        drawRadarChart(sortedScores);

        // â˜…â˜…â˜… ã“ã“ã§Dify AIã‚’å‘¼ã³å‡ºã™ â˜…â˜…â˜…
        const top5 = sortedScores.slice(0, 5).map(i => i[0]).join(', ');
        const bottom5 = sortedScores.slice(-5).reverse().map(i => i[0]).join(', '); // ä¸‹ä½ã¯é€†é †ã«ã—ã¦ã€Œãƒ¯ãƒ¼ã‚¹ãƒˆ1ã€ã‹ã‚‰ä¸¦ã¹ã‚‹
        
        startDifySession(top5, bottom5);
    }

    function drawRankList(sortedScores) {
        const listContainer = document.getElementById('full-rank-list');
        listContainer.innerHTML = '';
        const domainColors = { "Executing": "var(--executing)", "Influencing": "var(--influencing)", "Relationship Building": "var(--relationship)", "Strategic Thinking": "var(--strategic)" };

        sortedScores.forEach((item, index) => {
            const themeName = item[0];
            const themeInfo = diagnosisData.themes.find(t => t.name_jp === themeName);
            const rank = index + 1;
            let rowClass = "rank-item";
            if(rank <= 5) rowClass += " top5";
            if(rank >= 30) rowClass += " bottom5";

            const li = document.createElement('li');
            li.className = rowClass;
            li.innerHTML = `
                <div class="rank-main-row">
                    <div style="display:flex; align-items:center;">
                        <span class="rank-num">${rank}</span>
                        <span class="rank-name">
                            <span class="domain-tag" style="background:${domainColors[themeInfo.domain]}">${themeInfo.domain}</span>
                            ${themeName} <small>${themeInfo.name_en}</small>
                        </span>
                    </div>
                </div>
                <div class="rank-desc">${themeInfo.summary.desc}</div>
            `;
            listContainer.appendChild(li);
        });
    }

    function drawBalanceBar(sortedScores) {
        const domainScores = { "Executing": 0, "Influencing": 0, "Relationship Building": 0, "Strategic Thinking": 0 };
        sortedScores.forEach(item => {
            const theme = diagnosisData.themes.find(t => t.name_jp === item[0]);
            if(theme) domainScores[theme.domain] += item[1];
        });

        const totalScore = Object.values(domainScores).reduce((a,b)=>a+b, 0);
        const barContainer = document.getElementById('balance-bar-container');
        barContainer.innerHTML = '';
        const domainColors = { "Executing": "var(--executing)", "Influencing": "var(--influencing)", "Relationship Building": "var(--relationship)", "Strategic Thinking": "var(--strategic)" };
        
        Object.entries(domainScores)
            .sort((a,b) => b[1] - a[1])
            .forEach(([domain, score]) => {
                if(score > 0) {
                    const width = (score / totalScore) * 100;
                    const div = document.createElement('div');
                    div.style.width = `${width}%`;
                    div.style.backgroundColor = domainColors[domain];
                    div.className = 'balance-bar';
                    barContainer.appendChild(div);
                }
            });
    }

    function drawRadarChart(sortedScores) {
        const container = document.getElementById('radar-chart-container');
        const domainScores = { "Executing": 0, "Influencing": 0, "Relationship Building": 0, "Strategic Thinking": 0 };
        const domainCounts = { "Executing": 0, "Influencing": 0, "Relationship Building": 0, "Strategic Thinking": 0 };

        diagnosisData.themes.forEach(t => domainCounts[t.domain]++);
        sortedScores.forEach(item => {
            const theme = diagnosisData.themes.find(t => t.name_jp === item[0]);
            if(theme) domainScores[theme.domain] += item[1];
        });

        const multiplier = currentMode === 'simple' ? 30 : 90;
        const percentages = {
            "Executing": (domainScores["Executing"] / (domainCounts["Executing"] * multiplier)) * 100,
            "Influencing": (domainScores["Influencing"] / (domainCounts["Influencing"] * multiplier)) * 100,
            "Relationship Building": (domainScores["Relationship Building"] / (domainCounts["Relationship Building"] * multiplier)) * 100,
            "Strategic Thinking": (domainScores["Strategic Thinking"] / (domainCounts["Strategic Thinking"] * multiplier)) * 100
        };

        for (let key in percentages) if (percentages[key] > 100) percentages[key] = 100;

        const size = 200;
        const center = size / 2;
        const radius = 80;
        
        const getCoords = (domain, pct) => {
            const ratio = pct / 100;
            const r = radius * ratio;
            switch(domain) {
                case 'Executing': return [center, center - r];
                case 'Influencing': return [center + r, center];
                case 'Relationship Building': return [center, center + r];
                case 'Strategic Thinking': return [center - r, center];
            }
        };

        const pEx = getCoords('Executing', percentages['Executing']);
        const pInf = getCoords('Influencing', percentages['Influencing']);
        const pRel = getCoords('Relationship Building', percentages['Relationship Building']);
        const pStr = getCoords('Strategic Thinking', percentages['Strategic Thinking']);

        const polyPoints = `${pEx[0]},${pEx[1]} ${pInf[0]},${pInf[1]} ${pRel[0]},${pRel[1]} ${pStr[0]},${pStr[1]}`;

        let gridSVG = '';
        [0.25, 0.5, 0.75, 1].forEach(ratio => {
            const r = radius * ratio;
            gridSVG += `<polygon points="${center},${center-r} ${center+r},${center} ${center},${center+r} ${center-r},${center}" fill="none" stroke="#ddd" stroke-width="1" />`;
        });

        const svgContent = `
            <svg width="${size}" height="${size}" viewBox="0 0 ${size} ${size}" xmlns="http://www.w3.org/2000/svg">
                ${gridSVG}
                <line x1="${center}" y1="${center-radius}" x2="${center}" y2="${center+radius}" stroke="#eee" stroke-width="1" />
                <line x1="${center-radius}" y1="${center}" x2="${center+radius}" y2="${center}" stroke="#eee" stroke-width="1" />
                <polygon points="${polyPoints}" fill="rgba(39, 174, 96, 0.5)" stroke="#27ae60" stroke-width="2" class="radar-polygon" />
                <text x="${center}" y="15" text-anchor="middle" font-size="10" fill="#8e44ad" font-weight="bold">å®Ÿè¡ŒåŠ›</text>
                <text x="${size-5}" y="${center+4}" text-anchor="end" font-size="10" fill="#d35400" font-weight="bold">å½±éŸ¿åŠ›</text>
                <text x="${center}" y="${size-5}" text-anchor="middle" font-size="10" fill="#2980b9" font-weight="bold">äººé–“é–¢ä¿‚</text>
                <text x="5" y="${center+4}" text-anchor="start" font-size="10" fill="#27ae60" font-weight="bold">æˆ¦ç•¥</text>
            </svg>
        `;
        container.innerHTML = svgContent;
    }

    // ==========================================
    // â–¼â–¼â–¼ Dify API é€£æºãƒ­ã‚¸ãƒƒã‚¯ â–¼â–¼â–¼
    // ==========================================

    async function startDifySession(top5, bottom5) {
        if (!DIFY_API_KEY || DIFY_API_KEY.length < 10) {
            addMessageToChat("system", "âš ï¸ APIã‚­ãƒ¼ãŒè¨­å®šã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚ã‚³ãƒ¼ãƒ‰å†…ã® `DIFY_API_KEY` ã‚’è¨­å®šã—ã¦ãã ã•ã„ã€‚");
            return;
        }

        const loader = document.getElementById('loading-indicator');
        loader.style.display = 'block';

        // è¨ºæ–­çµæœã‚’inputsã¨ã—ã¦æ¸¡ã™
        const payload = {
            inputs: {
                "top_5": top5,
                "bottom_5": bottom5
            },
            query: "è¨ºæ–­ã‚’ãŠé¡˜ã„ã—ã¾ã™", // åˆå›ã®ãƒˆãƒªã‚¬ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
            response_mode: "blocking",
            user: userId,
            auto_generate_name: false
        };

        try {
            const response = await fetch(`${DIFY_BASE_URL}/chat-messages`, {
                method: "POST",
                headers: {
                    "Content-Type": "application/json",
                    "Authorization": `Bearer ${DIFY_API_KEY}`
                },
                body: JSON.stringify(payload)
            });

            const data = await response.json();

            if (!response.ok) {
                throw new Error(data.message || "API Error");
            }

            // ä¼šè©±IDã‚’ä¿å­˜ï¼ˆã“ã‚Œã§ä¼šè©±ãŒã¤ãªãŒã‚‹ï¼‰
            conversationId = data.conversation_id;

            // AIã®å›ç­”ã‚’è¡¨ç¤º
            addMessageToChat("ai", data.answer);

            // å…¥åŠ›æ¬„ã‚’æœ‰åŠ¹åŒ–
            enableChatInput();

        } catch (error) {
            console.error(error);
            addMessageToChat("system", "ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ: " + error.message);
        } finally {
            loader.style.display = 'none';
        }
    }

    async function sendUserMessage() {
        const input = document.getElementById('user-input');
        const text = input.value.trim();
        if (!text) return;

        // ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤º
        addMessageToChat("user", text);
        input.value = "";
        
        // å…¥åŠ›ä¸å¯ã«ã™ã‚‹
        disableChatInput();
        const loader = document.getElementById('loading-indicator');
        loader.style.display = 'block';
        loader.innerHTML = "AIãŒè€ƒãˆä¸­... ğŸ¤”";

        const payload = {
            inputs: {}, // 2å›ç›®ä»¥é™ã¯inputsä¸è¦
            query: text,
            response_mode: "blocking",
            user: userId,
            conversation_id: conversationId // å‰å›ã®IDã‚’å¼•ãç¶™ã
        };

        try {
            const response = await fetch(`${DIFY_BASE_URL}/chat-messages`, {
                method: "POST",
                headers: {
                    "Content-Type": "application/json",
                    "Authorization": `Bearer ${DIFY_API_KEY}`
                },
                body: JSON.stringify(payload)
            });

            const data = await response.json();
            if (!response.ok) throw new Error(data.message);

            addMessageToChat("ai", data.answer);

        } catch (error) {
            addMessageToChat("system", "ã‚¨ãƒ©ãƒ¼: " + error.message);
        } finally {
            loader.style.display = 'none';
            enableChatInput();
        }
    }

    function addMessageToChat(role, text) {
        const historyDiv = document.getElementById('chat-history');
        const msgDiv = document.createElement('div');
        
        msgDiv.className = `message message-${role}`;
        
        // Markdownã£ã½ã„å¤ªå­—è¨˜æ³• (**text**) ã‚’ HTMLã® <b> ã«ç°¡æ˜“å¤‰æ›
        let formattedText = text.replace(/\*\*(.*?)\*\*/g, '<b>$1</b>');
        
        // æ”¹è¡Œã‚³ãƒ¼ãƒ‰ã‚’ <br> ã«å¤‰æ›ã—ãªã„ï¼ˆCSSã§ white-space: pre-wrap ã‚’æŒ‡å®šã—ã¦ã„ã‚‹ã®ã§ä¸è¦ã ãŒå¿µã®ãŸã‚ï¼‰
        // formattedText = formattedText.replace(/\n/g, '<br>');

        msgDiv.innerHTML = formattedText;
        historyDiv.appendChild(msgDiv);
        
        // ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚’ä¸€ç•ªä¸‹ã¸
        historyDiv.scrollTop = historyDiv.scrollHeight;
    }

    function enableChatInput() {
        document.getElementById('user-input').disabled = false;
        document.getElementById('btn-send').disabled = false;
        document.getElementById('user-input').focus();
    }

    function disableChatInput() {
        document.getElementById('user-input').disabled = true;
        document.getElementById('btn-send').disabled = true;
    }

    // Enterã‚­ãƒ¼ã§é€ä¿¡
    document.getElementById('user-input').addEventListener('keypress', function (e) {
        if (e.key === 'Enter') {
            sendUserMessage();
        }
    });
</script>

</body>
</html>