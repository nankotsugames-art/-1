<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NANKOTSU Strength Lab. (Auto-Save Ver)</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #2c3e50;
            --accent-color: #27ae60;
            --sub-color: #e74c3c;
            --bg-color: #f4f7f6;
            --text-color: #333;
            /* 4é ˜åŸŸã®è‰² */
            --executing: #8e44ad;
            --influencing: #d35400;
            --relationship: #2980b9;
            --strategic: #27ae60;
        }

        * { box-sizing: border-box; }
        
        body {
            font-family: "Noto Sans JP", "Helvetica Neue", Arial, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            background: white;
            width: 100%;
            max-width: 800px;
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 15px 40px rgba(0,0,0,0.05);
            position: relative;
            overflow: hidden;
        }

        /* ãƒ˜ãƒƒãƒ€ãƒ¼å‘¨ã‚Š */
        .coach-header { 
            text-align: center; 
            margin-bottom: 30px; 
            position: relative;
        }
        .coach-title { 
            font-size: 12px; 
            color: #aaa; 
            font-weight: bold; 
            letter-spacing: 2px; 
            text-transform: uppercase;
            margin-bottom: 5px;
        }
        h1 { 
            font-size: 26px; 
            color: var(--primary-color); 
            margin: 0; 
            font-weight: 700;
        }

        .btn-back {
            position: absolute; top: 0; left: 0; background: none; border: none;
            color: #999; font-size: 14px; cursor: pointer; padding: 10px; z-index: 10;
        }

        /* è³ªå•ç”»é¢ã®ãƒ‡ã‚¶ã‚¤ãƒ³å¼·åŒ– */
        .question-card {
            background: #fff;
            padding: 10px 0;
        }
        .question-statement { 
            font-size: 1.25em; 
            font-weight: 700; 
            text-align: center; 
            margin-bottom: 30px; 
            color: var(--primary-color);
            min-height: 3em;
        }

        .choices-wrapper { 
            display: flex; 
            justify-content: space-between; 
            margin-bottom: 30px; 
            gap: 20px; 
        }
        
        @media (max-width: 600px) {
            .choices-wrapper { flex-direction: column; gap: 10px; }
            .container { padding: 25px 20px; }
        }

        .choice-box { 
            width: 100%; 
            padding: 20px; 
            border-radius: 12px; 
            background: #f8f9fa; 
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            text-align: center;
            font-size: 0.95em; 
            font-weight: 500; 
            color: #555; 
            border: 2px solid transparent; 
            transition: all 0.3s;
        }
        
        .box-a { border-bottom: 4px solid var(--sub-color); }
        .box-b { border-bottom: 4px solid var(--accent-color); }

        /* ã‚¹ã‚±ãƒ¼ãƒ«ãƒœã‚¿ãƒ³ */
        .scale-container { 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            gap: 8px; 
            margin: 20px 0; 
        }
        .scale-btn { 
            width: 50px; height: 50px; 
            border-radius: 50%; 
            border: 1px solid #e0e0e0; 
            background: white; 
            cursor: pointer; 
            transition: all 0.2s; 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            font-weight: bold; 
            color: #999; 
            font-size: 12px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        .scale-btn.large { width: 64px; height: 64px; font-size: 16px; color: #555; }
        .scale-btn:hover { transform: translateY(-2px); box-shadow: 0 4px 8px rgba(0,0,0,0.1); }
        
        .btn-color-a:hover, .btn-color-a:active { background-color: var(--sub-color); color: white; border-color: var(--sub-color); }
        .btn-color-b:hover, .btn-color-b:active { background-color: var(--accent-color); color: white; border-color: var(--accent-color); }
        
        /* ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ */
        .progress-section { margin-top: 40px; text-align: right; }
        .progress-bar-bg { width: 100%; height: 4px; background: #eee; border-radius: 2px; overflow: hidden; margin-top: 5px; }
        .progress-bar-fill { height: 100%; background: linear-gradient(90deg, var(--accent-color), #2ecc71); width: 0%; transition: width 0.3s ease-out; }

        /* ã‚¹ã‚¿ãƒ¼ãƒˆç”»é¢ */
        .start-btn-group { display: flex; flex-direction: column; gap: 15px; margin-top: 30px; align-items: center; }
        .btn-mode { 
            padding: 18px 30px; 
            border-radius: 50px; 
            font-size: 16px; 
            font-weight: bold; 
            cursor: pointer; 
            width: 100%; 
            max-width: 340px; 
            border: none; 
            transition: all 0.2s; 
            position: relative;
            text-align: center;
        }
        .btn-simple { background: #fff; border: 2px solid var(--accent-color); color: var(--accent-color); }
        .btn-simple:hover { background: #f0f9f4; }
        .btn-precision { background: var(--accent-color); color: white; box-shadow: 0 8px 20px rgba(39, 174, 96, 0.3); }
        .btn-precision:hover { background: #219150; transform: translateY(-2px); box-shadow: 0 10px 25px rgba(39, 174, 96, 0.4); }

        /* çµæœãƒ¬ãƒãƒ¼ãƒˆç”»é¢ */
        .report-section { margin-bottom: 50px; animation: fadeIn 0.8s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        .report-header { text-align: center; margin-bottom: 30px; }
        .report-title-main { font-size: 1.5em; font-weight: bold; color: var(--primary-color); display: inline-block; padding-bottom: 10px; border-bottom: 3px solid var(--accent-color); }

        /* AIåˆ†æãƒ¬ãƒãƒ¼ãƒˆã®ãƒ‡ã‚¶ã‚¤ãƒ³ */
        .ai-report-card {
            background: #fff;
            border: 1px solid #eef2f5;
            border-radius: 16px;
            padding: 30px;
            margin-top: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.03);
            position: relative;
            text-align: left;
        }
        .ai-report-card::before {
            content: "SPECIAL ANALYSIS";
            position: absolute;
            top: -12px;
            left: 30px;
            background: var(--primary-color);
            color: white;
            padding: 4px 12px;
            font-size: 11px;
            font-weight: bold;
            border-radius: 4px;
            letter-spacing: 1px;
        }
        .ai-content {
            font-size: 1em;
            line-height: 1.8;
            color: #444;
            white-space: pre-wrap; 
        }
        .ai-content h2 { font-size: 1.2em; color: var(--primary-color); border-bottom: 1px solid #eee; padding-bottom: 5px; margin-top: 25px; }
        .ai-content h3 { font-size: 1.1em; color: var(--accent-color); margin-top: 20px; }
        .ai-content ul { padding-left: 20px; color: #555; }
        .ai-content strong { color: #000; background: linear-gradient(transparent 70%, #a8e6cf 70%); }

        /* ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ç”»é¢ */
        .analyzing-overlay {
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 40px;
            text-align: center;
            background: #fbfbfb;
            border-radius: 16px;
            margin: 20px 0;
            border: 1px dashed #ddd;
        }
        .spinner {
            width: 40px; height: 40px;
            border: 4px solid #eee;
            border-top: 4px solid var(--accent-color);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 20px;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        .loading-text { font-weight: bold; color: #7f8c8d; font-size: 0.9em; animation: pulse 1.5s infinite; }
        @keyframes pulse { 0% { opacity: 0.6; } 50% { opacity: 1; } 100% { opacity: 0.6; } }

        /* ãƒ©ãƒ³ã‚­ãƒ³ã‚°ãƒªã‚¹ãƒˆ */
        .rank-list { list-style: none; padding: 0; margin: 0; }
        .rank-item { 
            padding: 15px 20px; 
            border-bottom: 1px solid #f0f0f0; 
            display: flex; 
            flex-direction: column; 
            page-break-inside: avoid; /* å°åˆ·æ™‚ã«é€”ä¸­ã§åˆ‡ã‚Œãªã„ã‚ˆã†ã« */
        }
        .rank-item.top5 { background: #fdfdfd; border-left: 4px solid var(--accent-color); }
        .rank-item:last-child { border-bottom: none; }
        
        .rank-header-row {
            display: flex;
            align-items: center;
            justify-content: space-between;
            width: 100%;
        }
        .rank-left { display: flex; align-items: center; }
        .rank-num { font-weight: bold; color: #ccc; width: 30px; }
        .top5 .rank-num { color: var(--accent-color); font-size: 1.2em; }
        .rank-name { font-weight: bold; color: var(--primary-color); font-size: 1.05em; margin-right: 10px; }
        
        .score-pill {
            font-size: 0.75em;
            background: #eee;
            color: #666;
            padding: 2px 8px;
            border-radius: 10px;
            font-weight: bold;
            margin-right: 10px;
        }
        .domain-badge { font-size: 10px; padding: 2px 6px; border-radius: 3px; color: white; opacity: 0.8; white-space: nowrap; }

        .rank-desc-row {
            margin-top: 6px;
            padding-left: 30px; 
            font-size: 0.85em;
            color: #777;
            line-height: 1.4;
        }

        .hidden { display: none !important; }

        /* ãƒ¬ãƒ¼ãƒ€ãƒ¼ãƒãƒ£ãƒ¼ãƒˆ */
        #radar-chart-container { 
            margin: 20px auto; 
            width: 100%; 
            max-width: 380px; 
            height: auto;
        }
        .balance-bar-container { display: flex; height: 12px; width: 100%; border-radius: 6px; overflow: hidden; margin: 15px 0; background: #eee; }
        .balance-bar { height: 100%; -webkit-print-color-adjust: exact; print-color-adjust: exact; }
        .legend-container { display: flex; justify-content: center; gap: 15px; font-size: 11px; color: #888; flex-wrap: wrap; margin-bottom: 20px;}
        .dot { width: 8px; height: 8px; border-radius: 50%; display: inline-block; margin-right: 4px; -webkit-print-color-adjust: exact; print-color-adjust: exact; }

        /* ä¿å­˜ãƒ‡ãƒ¼ã‚¿å¾©å…ƒæ™‚ã®é€šçŸ¥ */
        .restore-notice {
            background-color: #e8f5e9;
            color: #27ae60;
            padding: 10px;
            border-radius: 8px;
            margin-bottom: 20px;
            text-align: center;
            font-size: 0.9em;
            font-weight: bold;
        }

        /* å°åˆ·ç”¨ã‚¹ã‚¿ã‚¤ãƒ« */
        @media print {
            body {
                background: #fff;
                padding: 0;
                margin: 0;
                -webkit-print-color-adjust: exact !important;
                print-color-adjust: exact !important;
            }
            .container {
                box-shadow: none;
                border: none;
                width: 100%;
                max-width: 100%;
                padding: 0;
            }
            /* ä¸è¦ãªè¦ç´ ã‚’éè¡¨ç¤º */
            .coach-header button, /* æˆ»ã‚‹ãƒœã‚¿ãƒ³ */
            .start-btn-group,     /* ã‚¹ã‚¿ãƒ¼ãƒˆãƒœã‚¿ãƒ³ç¾¤ */
            .btn-mode,            /* å„ç¨®ãƒœã‚¿ãƒ³ */
            .scale-container,     /* å›ç­”ãƒœã‚¿ãƒ³ */
            #analyzing-overlay,   /* ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚° */
            .progress-section,    /* ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ */
            #start-screen p,
            #reset-btn-area       /* ãƒªã‚»ãƒƒãƒˆãƒœã‚¿ãƒ³ã‚¨ãƒªã‚¢ */
            {
                display: none !important;
            }
            
            /* çµæœç”»é¢ã®ã¿è¡¨ç¤ºã™ã‚‹ã‚ˆã†ã«åˆ¶å¾¡ */
            #start-screen, #quiz-screen {
                display: none !important;
            }
            #result-screen {
                display: block !important;
            }

            /* ãƒãƒ£ãƒ¼ãƒˆã®å¼·åˆ¶è¡¨ç¤º */
            svg {
                max-width: 100%;
                height: auto;
            }
            
            /* AIãƒ¬ãƒãƒ¼ãƒˆã®èƒŒæ™¯è‰²ãªã©ã‚’å°åˆ·å¯¾å¿œã« */
            .ai-report-card {
                border: 1px solid #ddd;
                box-shadow: none;
                break-inside: avoid;
            }
            
            .report-title-main {
                border-bottom: 2px solid var(--accent-color);
            }
        }

    </style>
</head>
<body>

<div class="container">
    <div class="coach-header">
        <button id="btn-back" class="btn-back hidden" onclick="goBack()">â† æˆ»ã‚‹</button>
        <div class="coach-title">STRENGTHS LAB.</div>
        <h1 id="page-title">æ‰èƒ½ã®æºæ³‰è¨ºæ–­</h1>
    </div>

    <div id="start-screen">
        <div id="restore-msg" class="restore-notice hidden">
            å‰å›ã®ä¸­æ–­ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰å†é–‹ã—ã¾ã—ãŸ
        </div>

        <div style="text-align: center; margin-bottom: 30px; color: #666; font-size: 0.95em;">
            ã‚ãªãŸã®ç„¡æ„è­˜ã®æ€è€ƒãƒ»è¡Œå‹•ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’åˆ†æã—ã€<br>éš ã‚ŒãŸå¼·ã¿ã‚’ç™ºè¦‹ã™ã‚‹ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«è¨ºæ–­ã§ã™ã€‚<br>
            <span style="font-size:0.8em; color:#999;">â€»é€²è¡ŒçŠ¶æ³ã¯è‡ªå‹•ä¿å­˜ã•ã‚Œã¾ã™</span>
        </div>
        
        <div class="start-btn-group">
            <button class="btn-mode btn-simple" onclick="startQuiz('simple')">âš¡ï¸ ã‚¯ã‚¤ãƒƒã‚¯è¨ºæ–­ (34å• / 5åˆ†)</button>
            <button class="btn-mode btn-precision" onclick="startQuiz('precision')">ğŸ” ç²¾å¯†åˆ†æãƒ¬ãƒãƒ¼ãƒˆ (102å• / 15åˆ†)</button>
        </div>
        <p style="text-align:center; font-size:11px; color:#aaa; margin-top:15px;">â€»AIã«ã‚ˆã‚‹è©³ç´°ãƒ¬ãƒãƒ¼ãƒˆä»˜ã</p>
    </div>

    <div id="quiz-screen" class="hidden">
        <div class="question-card">
            <div id="question-text" class="question-statement">è³ªå•æ–‡</div>

            <div class="choices-wrapper">
                <div class="choice-box box-a">
                    <span style="font-size:11px; color:var(--sub-color); font-weight:bold; margin-bottom:5px;">PATTERN A</span>
                    <span id="text-a">Aã®é¸æŠè‚¢</span>
                </div>
                <div class="choice-box box-b">
                    <span style="font-size:11px; color:var(--accent-color); font-weight:bold; margin-bottom:5px;">PATTERN B</span>
                    <span id="text-b">Bã®é¸æŠè‚¢</span>
                </div>
            </div>

            <div class="scale-container">
                <button class="scale-btn large btn-color-a" onclick="handleAnswer(1)">A</button>
                <button class="scale-btn scale-btn btn-color-a" onclick="handleAnswer(2)">Açš„</button>
                <button class="scale-btn scale-btn" onclick="handleAnswer(3)">-</button>
                <button class="scale-btn scale-btn btn-color-b" onclick="handleAnswer(4)">Bçš„</button>
                <button class="scale-btn large btn-color-b" onclick="handleAnswer(5)">B</button>
            </div>
            
            <div style="text-align:center; font-size:10px; color:#ccc; margin-top:5px;">
                ç›´æ„Ÿã§ãŠç­”ãˆãã ã•ã„
            </div>

            <div class="progress-section">
                <div class="progress-bar-bg">
                    <div id="progress-bar" class="progress-bar-fill"></div>
                </div>
                <div style="font-size:11px; color:#aaa; margin-top:5px;">
                    Progress: <span id="progress-text">0 / 0</span>
                </div>
            </div>
            
            <div style="text-align:center; margin-top:20px;">
                 <button onclick="resetDiagnosis()" style="background:none; border:none; color:#ccc; font-size:11px; cursor:pointer; text-decoration:underline;">ãƒ‡ãƒ¼ã‚¿ã‚’ãƒªã‚»ãƒƒãƒˆã—ã¦æœ€åˆã«æˆ»ã‚‹</button>
            </div>
        </div>
    </div>

    <div id="result-screen" class="hidden">
        
        <div class="report-section">
            <div class="report-header">
                <div class="report-title-main">ANALYSIS REPORT</div>
                <p style="font-size:0.9em; color:#777; margin-top:10px;">ã‚ãªãŸã®è³‡è³ªæ§‹æˆã«åŸºã¥ãç‰¹åˆ¥åˆ†æ</p>
            </div>

            <div style="text-align:center; margin-bottom:20px;">
                <button class="btn-mode btn-simple" style="padding: 10px 20px; font-size:14px; max-width:250px;" onclick="window.print()">
                    ğŸ“„ çµæœãƒ¬ãƒãƒ¼ãƒˆã‚’ä¿å­˜ (PDF/å°åˆ·)
                </button>
            </div>

            <div id="analyzing-overlay" class="analyzing-overlay">
                <div class="spinner"></div>
                <div id="loading-msg" class="loading-text">æ€è€ƒãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ç…§åˆä¸­...</div>
            </div>

            <div id="ai-report-content" class="ai-report-card hidden">
                <div id="ai-text" class="ai-content"></div>
            </div>
        </div>

        <div class="report-section">
            <h3 style="font-size:1.1em; color:#555; border-left:4px solid #ddd; padding-left:10px; margin-bottom:20px;">è³‡è³ªãƒãƒ©ãƒ³ã‚¹ãƒãƒ£ãƒ¼ãƒˆ</h3>
            <div id="radar-chart-container"></div>
            <div class="balance-bar-container" id="balance-bar-container"></div>
            <div class="legend-container">
                <span><span class="dot" style="background:var(--executing)"></span>å®Ÿè¡ŒåŠ›</span>
                <span><span class="dot" style="background:var(--influencing)"></span>å½±éŸ¿åŠ›</span>
                <span><span class="dot" style="background:var(--relationship)"></span>äººé–“é–¢ä¿‚</span>
                <span><span class="dot" style="background:var(--strategic)"></span>æˆ¦ç•¥çš„æ€è€ƒ</span>
            </div>
        </div>

        <div class="report-section">
            <h3 style="font-size:1.1em; color:#555; border-left:4px solid #ddd; padding-left:10px; margin-bottom:20px;">å…¨34è³‡è³ªã®æ§‹æˆé †ä½</h3>
            <ul id="full-rank-list" class="rank-list"></ul>
        </div>

        <div id="reset-btn-area" style="text-align:center; margin-top:40px; display:flex; flex-direction:column; align-items:center; gap:15px;">
            <button class="btn-mode btn-simple" onclick="resetDiagnosis()" style="background:#f4f4f4; border:none; color:#888;">ãƒ‡ãƒ¼ã‚¿ã‚’ãƒªã‚»ãƒƒãƒˆã—ã¦ãƒˆãƒƒãƒ—ã«æˆ»ã‚‹</button>
        </div>
    </div>
</div>

<script>
    // â–¼â–¼â–¼ APIã‚­ãƒ¼è¨­å®šã‚¨ãƒªã‚¢ â–¼â–¼â–¼
    const DIFY_API_KEY = "app-m83jKdkjZkNWiNjMzuHeBcD8"; // ã”è‡ªèº«ã®ã‚­ãƒ¼
    const DIFY_BASE_URL = "https://api.dify.ai/v1";

    // ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚­ãƒ¼
    const STORAGE_KEY = 'nankotsu_diagnosis_state_v2';

    let conversationId = "";
    let userId = "user_" + Math.random().toString(36).substr(2, 9);

    const diagnosisData = {
      "themes": [
        // --- å®Ÿè¡ŒåŠ› ---
        { "name_jp": "é”æˆæ¬²", "name_en": "Achiever", "domain": "Executing", "summary": { "desc": "ã‚¹ã‚¿ãƒŸãƒŠæ—ºç››ã§ã€æ¯æ—¥ä½•ã‹ã‚’æˆã—é‚ã’ãŸã„æ¬²æ±‚ã‚’æŒã¤ã€‚" }, 
          "questions": [
            { "text": "ä¸¸ä¸€æ—¥ã€äºˆå®šãŒä½•ã‚‚ãªã„ä¼‘æ—¥ã€‚ã‚ãªãŸã®é ­ã®ä¸­ã¯ï¼Ÿ", "options": {"A": "å¿ƒã‹ã‚‰ãƒªãƒ©ãƒƒã‚¯ã‚¹ã§ãã‚‹", "B": "ã€Œä½•ã‹æœ‰æ„ç¾©ãªã“ã¨ã‚’ã—ãªãã‚ƒã€ã¨å°‘ã—ã‚½ãƒ¯ã‚½ãƒ¯ã™ã‚‹"} }, 
            { "text": "ä¸€æ—¥ã®çµ‚ã‚ã‚Šã€ã‚ãªãŸãŒæœ€ã‚‚æº€è¶³æ„Ÿã‚’è¦šãˆã‚‹ã®ã¯ï¼Ÿ", "options": {"A": "æ¥½ã—ãã®ã‚“ã³ã‚Šéã”ã›ãŸæ™‚", "B": "ã‚„ã‚‹ã¹ãã‚¿ã‚¹ã‚¯ã‚’å…¨ã¦å®Œäº†ã§ããŸæ™‚"} }, 
            { "text": "TODOãƒªã‚¹ãƒˆã®é …ç›®ã‚’æ¶ˆã—ã¦ã„ãç¬é–“ã®æ„Ÿè¦šã¯ï¼Ÿ", "options": {"A": "ç‰¹ã«æ„è­˜ã—ãªã„", "B": "å¿«æ„Ÿã«è¿‘ã„å–œã³ã‚’æ„Ÿã˜ã‚‹"} }
        ] },
        { "name_jp": "ã‚¢ãƒ¬ãƒ³ã‚¸", "name_en": "Arranger", "domain": "Executing", "summary": { "desc": "å¤šãã®è¦ç´ ã‚’æ•´ç†ã—ã€æœ€ã‚‚åŠ¹ç‡çš„ãªæ§‹æˆã‚’çµ„ã¿ç«‹ã¦ã‚‹ã€‚" }, 
          "questions": [
            { "text": "è¤‡æ•°ã®è¦ç´ ãŒçµ¡ã¿åˆã†è¤‡é›‘ãªçŠ¶æ³ã«ç›´é¢ã—ã¾ã—ãŸã€‚", "options": {"A": "æ±ºã¾ã£ãŸæ‰‹é †é€šã‚Šã«é€²ã‚ãŸã„", "B": "æœ€ã‚‚åŠ¹ç‡çš„ãªé…ç½®ã«çµ„ã¿æ›¿ãˆãŸã„"} }, 
            { "text": "æ€¥ãªäºˆå®šå¤‰æ›´ãŒèµ·ããŸã¨ãã€ã©ã†æ„Ÿã˜ã¾ã™ã‹ï¼Ÿ", "options": {"A": "è¨ˆç”»ãŒå´©ã‚Œã¦ã‚¹ãƒˆãƒ¬ã‚¹", "B": "ã©ã†æŒãã‹ãƒ‘ã‚ºãƒ«ã¿ãŸã„ã§å°‘ã—ç‡ƒãˆã‚‹"} }, 
            { "text": "æ—…è¡Œã®è¨ˆç”»ã‚’ç«‹ã¦ã‚‹ãªã‚‰ï¼Ÿ", "options": {"A": "äº‹å‰ã«ã—ã£ã‹ã‚Šå›ºã‚ã‚‹", "B": "çŠ¶æ³ã«åˆã‚ã›ã¦æŸ”è»Ÿã«å¤‰ãˆã‚‰ã‚Œã‚‹ä½™åœ°ã‚’æ®‹ã™"} }
        ] },
        { "name_jp": "ä¿¡å¿µ", "name_en": "Belief", "domain": "Executing", "summary": { "desc": "ç¢ºå›ºãŸã‚‹ä¾¡å€¤è¦³ã‚’æŒã¡ã€ãã‚Œã«åŸºã¥ã„ã¦è¡Œå‹•ã™ã‚‹ã€‚" }, 
          "questions": [
            { "text": "ä»•äº‹ã‚„æ´»å‹•ã‚’é¸ã¶éš›ã€æœ€ã‚‚é‡è¦–ã™ã‚‹ã“ã¨ã¯ï¼Ÿ", "options": {"A": "æ¡ä»¶ã‚„ãƒ¡ãƒªãƒƒãƒˆã®è‰¯ã•", "B": "è‡ªåˆ†ã®ä¾¡å€¤è¦³ã‚„æ„ç¾©ã«åˆã†ã‹ã©ã†ã‹"} }, 
            { "text": "å¼·ã„ä½¿å‘½æ„Ÿã‚’æŒã£ã¦è¡Œå‹•ã—ã¦ã„ã‚‹äººã‚’è¦‹ã‚‹ã¨ï¼Ÿ", "options": {"A": "ã‚‚ã£ã¨å†·é™ã«ãªã‚Œã°ã„ã„ã®ã«ã¨æ€ã†", "B": "å¿ƒãŒå¼·ãå‹•ã‹ã•ã‚Œã‚‹"} }, 
            { "text": "è‡ªåˆ†ã®ä¿¡æ¡ã«åã™ã‚‹ä»•äº‹ã‚’ä¾é ¼ã•ã‚ŒãŸã‚‰ï¼Ÿ", "options": {"A": "ä»•äº‹ã¨å‰²ã‚Šåˆ‡ã£ã¦ã‚„ã‚‹", "B": "æ–­ã‚‹ã€ã‚‚ã—ãã¯å¼·ãæŠµæŠ—ã™ã‚‹"} }
        ] },
        { "name_jp": "å…¬å¹³æ€§", "name_en": "Consistency", "domain": "Executing", "summary": { "desc": "ã‚ã‚‰ã‚†ã‚‹äººã‚’å¹³ç­‰ã«æ‰±ã„ã€ä¸€è²«ã—ãŸãƒ«ãƒ¼ãƒ«ã‚’é‡ã‚“ã˜ã‚‹ã€‚" }, 
          "questions": [
            { "text": "ãƒãƒ¼ãƒ ã‚’é‹å–¶ã™ã‚‹ä¸Šã§å¤§åˆ‡ã ã¨æ€ã†ã®ã¯ï¼Ÿ", "options": {"A": "å€‹äººã®äº‹æƒ…ã«é…æ…®ã™ã‚‹ã“ã¨", "B": "å…¨å“¡ã«åŒã˜ãƒ«ãƒ¼ãƒ«ã‚’é©ç”¨ã™ã‚‹ã“ã¨"} }, 
            { "text": "ç‰¹å®šã®äººãŒç‰¹åˆ¥æ‰±ã„ã•ã‚Œã¦ã„ã‚‹ã®ã‚’ç›®æ’ƒã—ãŸã‚‰ï¼Ÿ", "options": {"A": "ãã†ã„ã†ã“ã¨ã‚‚ã‚ã‚‹ã¨æµã™", "B": "ä¸å…¬å¹³ã ã¨å¼·ãæ†¤ã‚Šã‚’æ„Ÿã˜ã‚‹"} }, 
            { "text": "æ¥­å‹™ãƒ•ãƒ­ãƒ¼ã‚’ä½œã‚‹ãªã‚‰ï¼Ÿ", "options": {"A": "è‡¨æ©Ÿå¿œå¤‰ã•ã‚’æ®‹ã™", "B": "èª°ãŒã‚„ã£ã¦ã‚‚åŒã˜çµæœã«ãªã‚‹ã‚ˆã†æ¨™æº–åŒ–ã™ã‚‹"} }
        ] },
        { "name_jp": "æ…é‡ã•", "name_en": "Deliberative", "domain": "Executing", "summary": { "desc": "ç´°å¿ƒã®æ³¨æ„ã‚’æ‰•ã„ã€ãƒªã‚¹ã‚¯ã‚’æƒ³å®šã—ã¦è¨ˆç”»ã‚’é€²ã‚ã‚‹ã€‚" }, 
          "questions": [
            { "text": "ã†ã¾ã„å„²ã‘è©±ã‚„æ–°ã—ã„ææ¡ˆã‚’èã„ãŸã¨ãã®åå¿œã¯ï¼Ÿ", "options": {"A": "é¢ç™½ãã†ã ã¨æœŸå¾…ã™ã‚‹", "B": "è£ã‚„è½ã¨ã—ç©´ãŒãªã„ã‹è­¦æˆ’ã™ã‚‹"} }, 
            { "text": "ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãªæ‚©ã¿ã‚’äººã«è©±ã—ã¾ã™ã‹ï¼Ÿ", "options": {"A": "å‰²ã¨ã™ãã«è©±ã™", "B": "æœ¬å½“ã«ä¿¡é ¼ã§ãã‚‹ã¾ã§è©±ã•ãªã„"} }, 
            { "text": "é‡è¦ãªæ±ºæ–­ã‚’ä¸‹ã™ã¨ãã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã¯ï¼Ÿ", "options": {"A": "ç›´æ„Ÿã‚„å‹¢ã„ã‚’ä¿¡ã˜ã‚‹", "B": "ã‚ã‚‰ã‚†ã‚‹ãƒªã‚¹ã‚¯ã‚’æƒ³å®šã—æº–å‚™ã™ã‚‹"} }
        ] },
        { "name_jp": "è¦å¾‹æ€§", "name_en": "Discipline", "domain": "Executing", "summary": { "desc": "ç§©åºã¨è¨ˆç”»ã‚’å¥½ã¿ã€ç‰©äº‹ã‚’æœŸé™é€šã‚Šã«é€²ã‚ã‚‹ã€‚" }, 
          "questions": [
            { "text": "éƒ¨å±‹ã‚„ãƒ‡ã‚¹ã‚¯ãŒæ•£ã‚‰ã‹ã£ã¦ã„ã‚‹ã¨ï¼Ÿ", "options": {"A": "ã‚ã¾ã‚Šæ°—ã«ãªã‚‰ãªã„", "B": "æ°—ã«ãªã£ã¦æ•´ç†æ•´é “ã—ãŸããªã‚‹"} }, 
            { "text": "ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«é€šã‚Šã«ç‰©äº‹ãŒé€²ã‚€ã“ã¨ã«å–œã³ã‚’æ„Ÿã˜ã¾ã™ã‹ï¼Ÿ", "options": {"A": "ãã“ã¾ã§ã§ã¯ãªã„", "B": "ç¾ã—ã„ã¨æ„Ÿã˜ã‚‹ã»ã©ã®å¿«æ„ŸãŒã‚ã‚‹"} }, 
            { "text": "ç· ã‚åˆ‡ã‚Šã«å¯¾ã™ã‚‹å§¿å‹¢ã¯ï¼Ÿ", "options": {"A": "ç›´å‰ã«è¿½ã„è¾¼ã‚€ã‚¿ã‚¤ãƒ—", "B": "è¨ˆç”»çš„ã«ä½™è£•ã‚’æŒã£ã¦é€²ã‚ã‚‹ã‚¿ã‚¤ãƒ—"} }
        ] },
        { "name_jp": "ç›®æ¨™å¿—å‘", "name_en": "Focus", "domain": "Executing", "summary": { "desc": "æ˜ç¢ºãªç›®çš„åœ°ã‚’å®šã‚ã€ãã“ã«å‘ã‹ã£ã¦é›†ä¸­ã—ç¶šã‘ã‚‹ã€‚" }, 
          "questions": [
            { "text": "ä¼šè©±ãŒæœ¬é¡Œã‹ã‚‰é€¸ã‚Œã¦é›‘è«‡ãŒç¶šã„ãŸã¨ãã€ã©ã†æ€ã„ã¾ã™ã‹ï¼Ÿ", "options": {"A": "ãã‚Œã¯ãã‚Œã§æ¥½ã—ã‚€", "B": "ã€Œã§ã€çµè«–ã¯ï¼Ÿã€ã¨è»Œé“ä¿®æ­£ã—ãŸããªã‚‹"} }, 
            { "text": "æ˜ç¢ºãªã‚´ãƒ¼ãƒ«ãŒè¨­å®šã•ã‚Œã¦ã„ãªã„æ™‚é–“ã¯ï¼Ÿ", "options": {"A": "æ°—æ¥½ã§ã„ã„", "B": "è½ã¡ç€ã‹ãªã„ã€ç„¡é§„ã«æ„Ÿã˜ã‚‹"} }, 
            { "text": "ä½œæ¥­ä¸­ã«åˆ¥ã®é¢ç™½ãã†ãªã“ã¨ãŒç›®ã«å…¥ã£ãŸã‚‰ï¼Ÿ", "options": {"A": "ãã¡ã‚‰ã«æ°—ã‚’å–ã‚‰ã‚Œã‚‹", "B": "ä»Šã®ã‚´ãƒ¼ãƒ«ã‚’é”æˆã™ã‚‹ã¾ã§å¾Œå›ã—ã«ã™ã‚‹"} }
        ] },
        { "name_jp": "è²¬ä»»æ„Ÿ", "name_en": "Responsibility", "domain": "Executing", "summary": { "desc": "ä¸€åº¦ç´„æŸã—ãŸã“ã¨ã¯å¿…ãšã‚„ã‚Šé‚ã’ã‚‹ã¨ã„ã†å¼·ã„å¿ƒç†çš„æ‹˜æŸåŠ›ã‚’æŒã¤ã€‚" }, 
          "questions": [
            { "text": "å¼•ãå—ã‘ãŸä»•äº‹ãŒçµ‚ã‚ã‚Šãã†ã«ãªã„æ™‚ã€ã©ã†ã—ã¾ã™ã‹ï¼Ÿ", "options": {"A": "ç„¡ç†ãªã‚‚ã®ã¯ä»•æ–¹ãªã„ã¨è€ƒãˆã‚‹", "B": "ä½•ã¨ã—ã¦ã‚‚ã‚„ã‚Šé‚ã’ãªã‘ã‚Œã°ã¨ç„¦ã‚‹"} }, 
            { "text": "ã‚„ã‚€ã‚’å¾—ãšç´„æŸã‚’ç ´ã£ã¦ã—ã¾ã£ãŸå¾Œã®å¿ƒå¢ƒã¯ï¼Ÿ", "options": {"A": "è¬ã£ã¦åˆ‡ã‚Šæ›¿ãˆã‚‹", "B": "ç½ªæ‚ªæ„ŸãŒæ®‹ã‚Šã€åŸ‹ã‚åˆã‚ã›ã‚’ã—ã‚ˆã†ã¨ã™ã‚‹"} }, 
            { "text": "èª°ã‚‚è¦‹ã¦ã„ãªã„å ´æ‰€ã§ã®ãƒ«ãƒ¼ãƒ«éµå®ˆã¯ï¼Ÿ", "options": {"A": "å°‘ã—ãªã‚‰æ‰‹ã‚’æŠœãã‹ã‚‚", "B": "èª°ã‚‚è¦‹ã¦ã„ãªãã¦ã‚‚å¿…ãšå®ˆã‚‹"} }
        ] },
        { "name_jp": "å›å¾©å¿—å‘", "name_en": "Restorative", "domain": "Executing", "summary": { "desc": "å•é¡Œã‚’è§£æ±ºã™ã‚‹ã“ã¨ã«æƒ…ç†±ã‚’ç‡ƒã‚„ã—ã€æ­£å¸¸ãªçŠ¶æ…‹ã«æˆ»ã™ã€‚" }, 
          "questions": [
            { "text": "ã©ã¡ã‚‰ã®ä»•äº‹ã«ã‚„ã‚ŠãŒã„ã‚’æ„Ÿã˜ã¾ã™ã‹ï¼Ÿ", "options": {"A": "ã‚¼ãƒ­ã‹ã‚‰ãƒ—ãƒ©ã‚¹ã‚’ä½œã‚‹ä»•äº‹", "B": "ãƒã‚¤ãƒŠã‚¹ã‚’ã‚¼ãƒ­ã«æˆ»ã™ã€å•é¡Œã‚’ç›´ã™ä»•äº‹"} }, 
            { "text": "ã‚·ã‚¹ãƒ†ãƒ ã‚„æ–‡ç« ã®ãƒŸã‚¹ã‚’è¦‹ã¤ã‘ãŸã¨ãï¼Ÿ", "options": {"A": "æ‹…å½“è€…ã«ä»»ã›ã‚‹", "B": "è‡ªåˆ†ã§ç›´ã—ãŸãã¦ã‚¦ã‚ºã‚¦ã‚ºã™ã‚‹"} }, 
            { "text": "éå»ã®å¤±æ•—ã‚’æ€ã„å‡ºã™ã“ã¨ã¯ã‚ã‚Šã¾ã™ã‹ï¼Ÿ", "options": {"A": "ã‚ã¾ã‚Šãªã„", "B": "ãªãœå¤±æ•—ã—ãŸã‹åŸå› ã‚’åˆ†æã—ãŸããªã‚‹"} }
        ] },
        // --- å½±éŸ¿åŠ› ---
        { "name_jp": "æ´»ç™ºæ€§", "name_en": "Activator", "domain": "Influencing", "summary": { "desc": "æ€è€ƒã‚ˆã‚Šã‚‚è¡Œå‹•ã‚’é‡è¦–ã—ã€ã¾ãšã¯ã‚„ã£ã¦ã¿ã‚‹ã“ã¨ã§äº‹æ…‹ã‚’å‹•ã‹ã™ã€‚" }, 
          "questions": [
            { "text": "æ–°ã—ã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’å§‹ã‚ã‚‹ã¨ãã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã¯ï¼Ÿ", "options": {"A": "ã—ã£ã‹ã‚Šæƒ…å ±ã‚’é›†ã‚ã¦ã‹ã‚‰", "B": "ã¾ãšã¯ã‚„ã£ã¦ã¿ã¦ã€èµ°ã‚ŠãªãŒã‚‰è€ƒãˆã‚‹"} }, 
            { "text": "ä¼šè­°ã§è­°è«–ã ã‘ãŒé•·ãç¶šãã¨ï¼Ÿ", "options": {"A": "æ…é‡ãªæ¤œè¨ã¯å¤§åˆ‡ã ", "B": "ã€Œã„ã„ã‹ã‚‰æ—©ãå‹•ã“ã†ã€ã¨ã‚¤ãƒ©ã‚¤ãƒ©ã™ã‚‹"} }, 
            { "text": "æ–°ã—ã„å®¶é›»ã‚’è²·ã£ãŸã‚‰ï¼Ÿ", "options": {"A": "èª¬æ˜æ›¸ã‚’ã—ã£ã‹ã‚Šèª­ã‚€", "B": "ã¾ãšã‚¹ã‚¤ãƒƒãƒã‚’å…¥ã‚Œã¦ã„ã˜ã£ã¦ã¿ã‚‹"} }
        ] },
        { "name_jp": "æŒ‡ä»¤æ€§", "name_en": "Command", "domain": "Influencing", "summary": { "desc": "ä¸»å°æ¨©ã‚’æ¡ã‚Šã€æ˜ç¢ºãªæŒ‡ç¤ºã‚’å‡ºã—ã¦äººã€…ã‚’å°ãã€‚" }, 
          "questions": [
            { "text": "æ„è¦‹ãŒå¯¾ç«‹ã—ãŸã¨ãã€ã©ã†ã—ã¾ã™ã‹ï¼Ÿ", "options": {"A": "å¯¾ç«‹ã‚’é¿ã‘ã‚ˆã†ã¨ã™ã‚‹", "B": "ã¶ã¤ã‹ã£ã¦ã§ã‚‚è§£æ±ºã—ã‚ˆã†ã¨ã™ã‚‹"} }, 
            { "text": "èª°ã‚‚æ±ºå®šã‚’ä¸‹ã•ãªã„è† ç€çŠ¶æ…‹ã®ã¨ãï¼Ÿ", "options": {"A": "èª°ã‹ãŒæ±ºã‚ã‚‹ã®ã‚’å¾…ã¤", "B": "ã€Œç§ãŒæ±ºã‚ã‚‹ã€ã¨ä¸»å°æ¨©ã‚’æ¡ã‚‹"} }, 
            { "text": "ç›¸æ‰‹ã«ã¨ã£ã¦è€³ã®ç—›ã„ã“ã¨ã‚’ä¼ãˆã‚‹ã®ã¯ï¼Ÿ", "options": {"A": "ã§ãã‚Œã°è¨€ã„ãŸããªã„", "B": "å¿…è¦ãªã‚‰ã¯ã£ãã‚Šã¨è¨€ã†"} }
        ] },
        { "name_jp": "ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³", "name_en": "Communication", "domain": "Influencing", "summary": { "desc": "è¨€è‘‰ã‚’ä½¿ã£ã¦äººã€…ã‚’é­…äº†ã—ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’åŠ¹æœçš„ã«ä¼ãˆã‚‹ã€‚" }, 
          "questions": [
            { "text": "è‡ªåˆ†ã®è€ƒãˆã‚’ã¾ã¨ã‚ã‚‹ã¨ãã€ã©ã¡ã‚‰ãŒå¾—æ„ã§ã™ã‹ï¼Ÿ", "options": {"A": "ã˜ã£ãã‚Šæ–‡ç« ã«æ›¸ã", "B": "äººã«è©±ã—ãªãŒã‚‰ã¾ã¨ã‚ã‚‹"} }, 
            { "text": "å¤§å‹¢ã®å‰ã§ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ã™ã‚‹æ©Ÿä¼šãŒã‚ã£ãŸã‚‰ï¼Ÿ", "options": {"A": "ç·Šå¼µã—ã¦çŸ¥ã£ã¦ã‚‹äººã‚’æ¢ã™", "B": "æ³¨ç›®ã•ã‚Œã‚‹ã“ã¨ã«ãƒ¯ã‚¯ãƒ¯ã‚¯ã™ã‚‹"} }, 
            { "text": "äº‹å®Ÿã‚’ä¼ãˆã‚‹ã¨ãï¼Ÿ", "options": {"A": "è¦ç‚¹ã ã‘ç°¡æ½”ã«ä¼ãˆã‚‹", "B": "é¢ç™½ãŠã‹ã—ãã‚¹ãƒˆãƒ¼ãƒªãƒ¼ä»•ç«‹ã¦ã§è©±ã™"} }
        ] },
        { "name_jp": "ç«¶äº‰æ€§", "name_en": "Competition", "domain": "Influencing", "summary": { "desc": "ä»–è€…ã¨ã®æ¯”è¼ƒã«ãŠã„ã¦è‡ªåˆ†ã®é€²æ­©ã‚’æ¸¬å®šã—ã€å‹åˆ©ã‚’æ¸‡æœ›ã™ã‚‹ã€‚" }, 
          "questions": [
            { "text": "ã‚ãªãŸã«ã¨ã£ã¦ã®ã€ŒæˆåŠŸã€ã®åŸºæº–ã¯ï¼Ÿ", "options": {"A": "éå»ã®è‡ªåˆ†ã‚ˆã‚Šæˆé•·ã—ã¦ã„ã‚‹ã‹", "B": "ãƒ©ã‚¤ãƒãƒ«ã‚„ä»–è€…ã‚ˆã‚Šå„ªã‚Œã¦ã„ã‚‹ã‹"} }, 
            { "text": "ã‚²ãƒ¼ãƒ ã‚„å‹è² ã§è² ã‘ãŸã¨ãï¼Ÿ", "options": {"A": "æ¥½ã—ã‹ã£ãŸãªã‚‰OK", "B": "æ‚”ã—ãã¦ãŸã¾ã‚‰ãªã„ã€æ¬¡ã¯å‹ã¡ãŸã„"} }, 
            { "text": "åŒã˜ä½œæ¥­ã‚’ã—ã¦ã„ã‚‹äººãŒéš£ã«ã„ãŸã‚‰ï¼Ÿ", "options": {"A": "è‡ªåˆ†ã®ãƒšãƒ¼ã‚¹ã§ã‚„ã‚‹", "B": "ãã®äººã‚ˆã‚Šé€Ÿãã€ã†ã¾ãã‚„ã‚ŠãŸã„"} }
        ] },
        { "name_jp": "æœ€ä¸Šå¿—å‘", "name_en": "Maximizer", "domain": "Influencing", "summary": { "desc": "å¹³å‡ã§ã¯ãªãå“è¶Šæ€§ã‚’æ±‚ã‚ã€å¼·ã¿ã‚’æœ€å¤§é™ã«ç£¨ãä¸Šã’ã‚‹ã€‚" }, 
          "questions": [
            { "text": "é™ã‚‰ã‚ŒãŸæ™‚é–“ã‚’æŠ•è³‡ã™ã‚‹ãªã‚‰ï¼Ÿ", "options": {"A": "å¼±ç‚¹ã‚’å¹³å‡ãƒ¬ãƒ™ãƒ«ã¾ã§å¼•ãä¸Šã’ã‚‹", "B": "å¾—æ„ãªã“ã¨ã‚’åœ§å€’çš„ãªãƒ¬ãƒ™ãƒ«ã¾ã§ç£¨ã"} }, 
            { "text": "ä»•äº‹ã®ã‚¯ã‚ªãƒªãƒ†ã‚£ã«å¯¾ã™ã‚‹å§¿å‹¢ã¯ï¼Ÿ", "options": {"A": "åˆæ ¼ç‚¹ãªã‚‰OK", "B": "è‡ªåˆ†ãŒç´å¾—ã„ãæœ€é«˜å“è³ªã¾ã§é«˜ã‚ãŸã„"} }, 
            { "text": "ã€Œä»Šã®ã¾ã¾ã§ååˆ†è‰¯ã„ã€ã¨è¨€ã‚ã‚ŒãŸã‚‰ï¼Ÿ", "options": {"A": "å®‰å¿ƒã™ã‚‹", "B": "ã€Œã‚‚ã£ã¨è‰¯ããªã‚‹ã®ã«ã€ã¨ç‰©è¶³ã‚Šãªãæ€ã†"} }
        ] },
        { "name_jp": "è‡ªå·±ç¢ºä¿¡", "name_en": "Self-Assurance", "domain": "Influencing", "summary": { "desc": "è‡ªåˆ†ã®èƒ½åŠ›ã¨åˆ¤æ–­åŠ›ã«çµ¶å¯¾çš„ãªè‡ªä¿¡ã‚’æŒã¡ã€ãƒªã‚¹ã‚¯ã‚’æã‚Œãªã„ã€‚" }, 
          "questions": [
            { "text": "æœ€çµ‚çš„ãªæ±ºæ–­ã‚’ä¸‹ã™æ ¹æ‹ ã¯ï¼Ÿ", "options": {"A": "ãƒ‡ãƒ¼ã‚¿ã‚„ä»–äººã®åŠ©è¨€", "B": "è‡ªåˆ†ã®å†…ãªã‚‹ç›´æ„Ÿã‚„ç¢ºä¿¡"} }, 
            { "text": "å‘¨å›²ã‹ã‚‰åå¯¾ã•ã‚ŒãŸã¨ãï¼Ÿ", "options": {"A": "é–“é•ã£ã¦ã„ã‚‹ã‹ã‚‚ã¨ä¸å®‰ã«ãªã‚‹", "B": "ã€Œè‡ªåˆ†ã¯æ­£ã—ã„ã€ã¨æºã‚‹ãŒãªã„"} }, 
            { "text": "å…ˆè¡Œãä¸é€æ˜ãªãƒªã‚¹ã‚¯ã¸ã®æŒ‘æˆ¦ã¯ï¼Ÿ", "options": {"A": "æ…é‡ã«æ¤œè¨ã™ã‚‹", "B": "ãªã‚“ã¨ã‹ãªã‚‹ã€ã¨é£›ã³è¾¼ã‚€"} }
        ] },
        { "name_jp": "è‡ªæˆ‘", "name_en": "Significance", "domain": "Influencing", "summary": { "desc": "ä»–è€…ã‹ã‚‰é‡è¦äººç‰©ã¨ã—ã¦èªã‚ã‚‰ã‚Œã€å¤§ããªå½±éŸ¿ã‚’ä¸ãˆãŸã„ã¨é¡˜ã†ã€‚" }, 
          "questions": [
            { "text": "ä»•äº‹ã®ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ã«ãªã‚‹ã®ã¯ï¼Ÿ", "options": {"A": "é™ã‹ã«è²¢çŒ®ã™ã‚‹ã“ã¨", "B": "å¤šãã®äººã«èªã‚ã‚‰ã‚Œã€è©•ä¾¡ã•ã‚Œã‚‹ã“ã¨"} }, 
            { "text": "è‡ªåˆ†ã®è²¢çŒ®ãŒæ°—ã¥ã‹ã‚Œãªã‹ã£ãŸã¨ãï¼Ÿ", "options": {"A": "å½¹ã«ç«‹ã¦ãŸãªã‚‰ã„ã„", "B": "ãƒ—ãƒ©ã‚¤ãƒ‰ãŒå‚·ã¤ãã€èªã‚ã¦ã»ã—ã„"} }, 
            { "text": "ãƒãƒ¼ãƒ å†…ã§ã®å½¹å‰²ã¯ï¼Ÿ", "options": {"A": "ç¸ã®ä¸‹ã®åŠ›æŒã¡", "B": "å½±éŸ¿åŠ›ã®ã‚ã‚‹è¡¨èˆå°ã®ãƒã‚¸ã‚·ãƒ§ãƒ³"} }
        ] },
        { "name_jp": "ç¤¾äº¤æ€§", "name_en": "Woo", "domain": "Influencing", "summary": { "desc": "è¦‹çŸ¥ã‚‰ã¬äººã¨å‡ºä¼šã„ã€å‘³æ–¹ã«ã¤ã‘ã‚‹ã“ã¨ã«å–œã³ã‚’æ„Ÿã˜ã‚‹ã€‚" }, 
          "questions": [
            { "text": "çŸ¥ã‚‰ãªã„äººãŒå¤šã„ãƒ‘ãƒ¼ãƒ†ã‚£ä¼šå ´ã«å…¥ã‚‹ã¨ãï¼Ÿ", "options": {"A": "ç·Šå¼µã—ã¦çŸ¥ã£ã¦ã‚‹äººã‚’æ¢ã™", "B": "æ–°ã—ã„å‡ºä¼šã„ãŒã‚ã‚Šãã†ã§ãƒ¯ã‚¯ãƒ¯ã‚¯ã™ã‚‹"} }, 
            { "text": "åˆå¯¾é¢ã®äººã¨ã®é›‘è«‡ã¯ï¼Ÿ", "options": {"A": "æ°—ã‚’ä½¿ã£ã¦ç–²ã‚Œã‚‹", "B": "ã‚¨ãƒãƒ«ã‚®ãƒ¼ã‚’ã‚‚ã‚‰ãˆã‚‹"} }, 
            { "text": "äº¤æµä¼šã§ã®æŒ¯ã‚‹èˆã„ã¯ï¼Ÿ", "options": {"A": "å°‘äººæ•°ã¨ã˜ã£ãã‚Šè©±ã™", "B": "ã§ãã‚‹ã ã‘å¤šãã®äººã¨æŒ¨æ‹¶ã—ã¦å›ã‚‹"} }
        ] },
        // --- äººé–“é–¢ä¿‚æ§‹ç¯‰åŠ› ---
        { "name_jp": "é©å¿œæ€§", "name_en": "Adaptability", "domain": "Relationship Building", "summary": { "desc": "æµã‚Œã«èº«ã‚’ä»»ã›ã€ã€Œä»Šã€ã“ã®ç¬é–“ã®å¤‰åŒ–ã«æŸ”è»Ÿã«å¯¾å¿œã™ã‚‹ã€‚" }, 
          "questions": [
            { "text": "å°†æ¥ã®è¨ˆç”»ã«ã¤ã„ã¦ã©ã†è€ƒãˆã¾ã™ã‹ï¼Ÿ", "options": {"A": "æ•°å¹´å…ˆã¾ã§ã—ã£ã‹ã‚Šç«‹ã¦ãŸã„", "B": "ãã®æ™‚ã€…ã®æµã‚Œã«èº«ã‚’ä»»ã›ãŸã„"} }, 
            { "text": "çªç„¶äºˆå®šãŒã‚­ãƒ£ãƒ³ã‚»ãƒ«ã«ãªã£ãŸã‚‰ï¼Ÿ", "options": {"A": "ãƒªã‚ºãƒ ãŒç‹‚ã£ã¦å›°ã‚‹", "B": "ãƒ©ãƒƒã‚­ãƒ¼ã€åˆ¥ã®ã“ã¨ã‚’ã—ã‚ˆã†ã¨åˆ‡ã‚Šæ›¿ãˆã‚‹"} }, 
            { "text": "ä»•äº‹ã®é€²ã‚æ–¹ã¯ï¼Ÿ", "options": {"A": "ãƒ«ãƒ¼ãƒãƒ³ãŒæ±ºã¾ã£ã¦ã„ã‚‹æ–¹ãŒæ¥½", "B": "æ¯æ—¥é•ã†ã“ã¨ãŒèµ·ãã‚‹æ–¹ãŒæ¥½ã—ã„"} }
        ] },
        { "name_jp": "é‹å‘½æ€è€ƒ", "name_en": "Connectedness", "domain": "Relationship Building", "summary": { "desc": "ã‚ã‚‰ã‚†ã‚‹äººã‚„ç‰©äº‹ã¯ã¤ãªãŒã£ã¦ã„ã‚‹ã¨ä¿¡ã˜ã€å¤§ããªè¦–ç‚¹ã‚’æŒã¤ã€‚" }, 
          "questions": [
            { "text": "äººç”Ÿã§èµ·ã“ã‚‹å‡ºæ¥äº‹ã¯ï¼Ÿ", "options": {"A": "å˜ãªã‚‹å¶ç„¶ã®é€£ç¶šã ", "B": "ä½•ã‹ã—ã‚‰ã®æ„å‘³ã‚„ç¹‹ãŒã‚ŠãŒã‚ã‚‹"} }, 
            { "text": "äººã¨ã®å‡ºä¼šã„ã«ã¤ã„ã¦ï¼Ÿ", "options": {"A": "ãŸã¾ãŸã¾ã ã¨æ€ã†", "B": "ã€Œã”ç¸ã€ã‚„é‹å‘½çš„ãªã‚‚ã®ã‚’æ„Ÿã˜ã‚‹"} }, 
            { "text": "èª°ã‹ã«è¦ªåˆ‡ã«ã—ãŸã¨ãï¼Ÿ", "options": {"A": "ãŸã ã®è¦ªåˆ‡", "B": "å·¡ã‚Šå·¡ã£ã¦è‡ªåˆ†ã«è¿”ã£ã¦ãã‚‹æ°—ãŒã™ã‚‹"} }
        ] },
        { "name_jp": "æˆé•·ä¿ƒé€²", "name_en": "Developer", "domain": "Relationship Building", "summary": { "desc": "ä»–è€…ã®æŒã¤å¯èƒ½æ€§ã‚’è¦‹æŠœãã€ãã®æˆé•·ã‚’åŠ©ã‘ã‚‹ã“ã¨ã«å–œã³ã‚’æ„Ÿã˜ã‚‹ã€‚" }, 
          "questions": [
            { "text": "äººã‚’è¦‹ã‚‹ã¨ãã€ã©ã“ã«ç›®ãŒã„ãã¾ã™ã‹ï¼Ÿ", "options": {"A": "ä»Šã®å®ŸåŠ›ã‚„å®Ÿç¸¾", "B": "ãã®äººãŒç§˜ã‚ã¦ã„ã‚‹å°†æ¥æ€§"} }, 
            { "text": "èª°ã‹ãŒå°ã•ãªé€²æ­©ã‚’é‚ã’ãŸã¨ãï¼Ÿ", "options": {"A": "ã¾ã æœªç†Ÿã ã¨æ€ã†", "B": "è‡ªåˆ†ã®ã“ã¨ã®ã‚ˆã†ã«æ„Ÿå‹•ã™ã‚‹"} }, 
            { "text": "äººã«æ•™ãˆã‚‹ã¨ãã®æ–¹é‡ã¯ï¼Ÿ", "options": {"A": "æ‰‹ã£å–ã‚Šæ—©ãç­”ãˆã‚’æ•™ãˆã‚‹", "B": "ãã®äººãŒæ°—ã¥ãã¾ã§ç²˜ã‚Šå¼·ãå¾…ã¤"} }
        ] },
        { "name_jp": "å…±æ„Ÿæ€§", "name_en": "Empathy", "domain": "Relationship Building", "summary": { "desc": "ä»–è€…ã®æ„Ÿæƒ…ã‚’è‡ªåˆ†ã®ã“ã¨ã®ã‚ˆã†ã«æ„Ÿã˜å–ã‚Šã€ç†è§£ã‚’ç¤ºã™ã€‚" }, 
          "questions": [
            { "text": "èª°ã‹ã‚’ç†è§£ã—ã‚ˆã†ã¨ã™ã‚‹ã¨ãï¼Ÿ", "options": {"A": "è«–ç†çš„ã«åˆ†æã™ã‚‹", "B": "ç›¸æ‰‹ã®æ„Ÿæƒ…ã«ãªã‚Šãã£ã¦æ„Ÿã˜ã‚‹"} }, 
            { "text": "è¿‘ãã§èª°ã‹ãŒæ³£ã„ã¦ã„ãŸã‚‰ï¼Ÿ", "options": {"A": "ã©ã†ã—ãŸã‚“ã ã‚ã†ã¨å®¢è¦³çš„ã«è¦‹ã‚‹", "B": "ã‚‚ã‚‰ã„æ³£ãã—ãã†ã«ãªã‚‹ã€èƒ¸ãŒç—›ã‚€"} }, 
            { "text": "æ‚©ã¿ã‚’ç›¸è«‡ã•ã‚ŒãŸã‚‰ï¼Ÿ", "options": {"A": "è§£æ±ºç­–ã‚’æç¤ºã™ã‚‹", "B": "ã¾ãšã¯æ°—æŒã¡ã«å¯„ã‚Šæ·»ã†"} }
        ] },
        { "name_jp": "èª¿å’Œæ€§", "name_en": "Harmony", "domain": "Relationship Building", "summary": { "desc": "å¯¾ç«‹ã‚’é¿ã‘ã€åˆæ„ç‚¹ã‚’è¦‹ã¤ã‘ã‚‹ã“ã¨ã§å ´ã®å¹³å’Œã‚’ä¿ã¤ã€‚" }, 
          "questions": [
            { "text": "ä¼šè­°ã§æœ€ã‚‚å¤§åˆ‡ã«ã—ãŸã„ã®ã¯ï¼Ÿ", "options": {"A": "å¾¹åº•çš„ã«è­°è«–ã‚’æˆ¦ã‚ã›ã‚‹ã“ã¨", "B": "å…¨å“¡ãŒç´å¾—ã§ãã‚‹åˆæ„ç‚¹ã‚’è¦‹ã¤ã‘ã‚‹ã“ã¨"} }, 
            { "text": "æ¿€ã—ã„è¨€ã„äº‰ã„ãŒèµ·ãã¦ã„ã‚‹å ´ã§ã¯ï¼Ÿ", "options": {"A": "æ´»æ°—ãŒã‚ã£ã¦ã„ã„ã¨æ„Ÿã˜ã‚‹", "B": "å±…å¿ƒåœ°ãŒæ‚ªãã€æ—©ãæ­¢ã‚ã¦ã»ã—ã„"} }, 
            { "text": "æ„è¦‹ãŒé£Ÿã„é•ã£ãŸã‚‰ï¼Ÿ", "options": {"A": "è‡ªåˆ†ã®ä¸»å¼µã‚’é€šã™", "B": "å¦¥å”ç‚¹ã‚’æ¢ã—ã¦æ³¢é¢¨ã‚’ç«‹ã¦ãªã„"} }
        ] },
        { "name_jp": "åŒ…å«", "name_en": "Includer", "domain": "Relationship Building", "summary": { "desc": "èª°ã‚‚æ’é™¤ã›ãšã€è¼ªã‚’åºƒã’ã¦å—ã‘å…¥ã‚Œã‚ˆã†ã¨ã™ã‚‹åŒ…å®¹åŠ›ã‚’æŒã¤ã€‚" }, 
          "questions": [
            { "text": "ãƒãƒ¼ãƒ ã‚’ä½œã‚‹ãªã‚‰ï¼Ÿ", "options": {"A": "é¸ã°ã‚ŒãŸå°‘æ•°ç²¾é‹­ã§", "B": "ã§ãã‚‹ã ã‘å¤šãã®äººã«ãƒãƒ£ãƒ³ã‚¹ã‚’ã‚ã’ãŸã„"} }, 
            { "text": "è¼ªã«å…¥ã‚Œãšä¸€äººã§ã„ã‚‹äººã‚’è¦‹ãŸã‚‰ï¼Ÿ", "options": {"A": "æ”¾ã£ã¦ãŠãï¼ˆæœ¬äººã®è‡ªç”±ï¼‰", "B": "æ°—ã«ãªã£ã¦å£°ã‚’ã‹ã‘ãŸããªã‚‹"} }, 
            { "text": "é£²ã¿ä¼šã§å¸­ãŒè¶³ã‚Šãªã„ã¨ãï¼Ÿ", "options": {"A": "å®šå“¡ãªã®ã§æ–­ã‚‹", "B": "è©°ã‚ã¦ã§ã‚‚å…¨å“¡å…¥ã‚Œã‚‹ã‚ˆã†ã«ã™ã‚‹"} }
        ] },
        { "name_jp": "å€‹åˆ¥åŒ–", "name_en": "Individualization", "domain": "Relationship Building", "summary": { "desc": "ä¸€äººã²ã¨ã‚Šã®ãƒ¦ãƒ‹ãƒ¼ã‚¯ãªå€‹æ€§ã‚’è¦‹æŠœãã€ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã—ãŸå¯¾å¿œã‚’ã™ã‚‹ã€‚" }, 
          "questions": [
            { "text": "äººã‚’è©•ä¾¡ã™ã‚‹ã¨ãï¼Ÿ", "options": {"A": "å…¬å¹³ãªåŸºæº–ã§æ¯”è¼ƒã™ã‚‹", "B": "ãã®äººã ã‘ã®ãƒ¦ãƒ‹ãƒ¼ã‚¯ãªå¼·ã¿ã‚’è¦‹ã‚‹"} }, 
            { "text": "ã€Œã¿ã‚“ãªãã†ã—ã¦ã„ã‚‹ã‚ˆã€ã¨è¨€ã‚ã‚Œã‚‹ã¨ï¼Ÿ", "options": {"A": "ãªã‚‰è‡ªåˆ†ã‚‚ãã†ã—ã‚ˆã†", "B": "ã€Œã¿ã‚“ãªã€ã¨ä¸€æ‹¬ã‚Šã«ã•ã‚Œã‚‹ã¨ã‚¤ãƒ©ãƒƒã¨ã™ã‚‹"} }, 
            { "text": "ãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆã‚’é¸ã¶ãªã‚‰ï¼Ÿ", "options": {"A": "èª°ã«ã§ã‚‚å–œã°ã‚Œã‚‹å®šç•ªå“", "B": "ãã®äººã®å¥½ã¿ã«åˆã‚ã›ãŸä¸€ç‚¹ç‰©"} }
        ] },
        { "name_jp": "ãƒã‚¸ãƒ†ã‚£ãƒ–", "name_en": "Positivity", "domain": "Relationship Building", "summary": { "desc": "æ¥½è¦³çš„ã§æƒ…ç†±ãŒã‚ã‚Šã€å‘¨å›²ã‚’æ˜ã‚‹ãå…ƒæ°—ã¥ã‘ã‚‹ã€‚" }, 
          "questions": [
            { "text": "ãƒˆãƒ©ãƒ–ãƒ«ã«ç›´é¢ã—ãŸã¨ãï¼Ÿ", "options": {"A": "æœ€æ‚ªã®äº‹æ…‹ã«å‚™ãˆã‚‹", "B": "ã€Œãªã‚“ã¨ã‹ãªã‚‹ã€ã¨æ˜ã‚‹ãæ‰ãˆã‚‹"} }, 
            { "text": "ãƒãƒ¼ãƒ ã®é›°å›²æ°—ãŒæš—ã„ã¨ãï¼Ÿ", "options": {"A": "ä»•äº‹ã ã‹ã‚‰ä»•æ–¹ãªã„", "B": "å†—è«‡ã‚’è¨€ã£ã¦ç¬‘ã‚ã›ãŸããªã‚‹"} }, 
            { "text": "äººã‚’ã‚„ã‚‹æ°—ã«ã•ã›ã‚‹ã«ã¯ï¼Ÿ", "options": {"A": "æ”¹å–„ç‚¹ã‚’æŒ‡æ‘˜ã™ã‚‹", "B": "è‰¯ã„ã¨ã“ã‚ã‚’è¤’ã‚ã¦ç§°ãˆã‚‹"} }
        ] },
        { "name_jp": "è¦ªå¯†æ€§", "name_en": "Relator", "domain": "Relationship Building", "summary": { "desc": "ç‰¹å®šã®äººã€…ã¨æ·±ãå …ã„ä¿¡é ¼é–¢ä¿‚ã‚’ç¯‰ãã“ã¨ã‚’å¥½ã‚€ã€‚" }, 
          "questions": [
            { "text": "ç†æƒ³ã®äººé–“é–¢ä¿‚ã¯ï¼Ÿ", "options": {"A": "åºƒãæµ…ãã€å¤šãã®äººã¨ç¹‹ãŒã‚‹", "B": "å°‘äººæ•°ã®ä¿¡é ¼ã§ãã‚‹äººã¨æ·±ãä»˜ãåˆã†"} }, 
            { "text": "ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãªè©±ã¯ï¼Ÿ", "options": {"A": "ã‚ªãƒ¼ãƒ—ãƒ³ã«è©±ã™", "B": "å¿ƒã‚’è¨±ã—ãŸç›¸æ‰‹ã«ã—ã‹è©±ã•ãªã„"} }, 
            { "text": "ãƒ‘ãƒ¼ãƒ†ã‚£ã§ã®éã”ã—æ–¹ã¯ï¼Ÿ", "options": {"A": "æ–°ã—ã„äººè„ˆã‚’ä½œã‚‹", "B": "ã„ã¤ã‚‚ã®ãƒ¡ãƒ³ãƒãƒ¼ã®å´ã§éã”ã™"} }
        ] },
        // --- æˆ¦ç•¥çš„æ€è€ƒåŠ› ---
        { "name_jp": "åˆ†ææ€è€ƒ", "name_en": "Analytical", "domain": "Strategic Thinking", "summary": { "desc": "ãƒ‡ãƒ¼ã‚¿ã‚„äº‹å®Ÿã«åŸºã¥ã„ã¦ã€ç‰©äº‹ã®åŸå› ã¨çµæœã‚’å®¢è¦³çš„ã«è¨¼æ˜ã™ã‚‹ã€‚" }, 
          "questions": [
            { "text": "èª°ã‹ã®æ„è¦‹ã‚’èã„ãŸã¨ãã€ã¾ãšæ€ã†ã®ã¯ï¼Ÿ", "options": {"A": "ãã®äººã®æ°—æŒã¡ã«å…±æ„Ÿã™ã‚‹", "B": "ã€Œãã®æ ¹æ‹ ã‚„è¨¼æ‹ ã¯ã‚ã‚‹ã®ã‹ï¼Ÿã€"} }, 
            { "text": "æ•°å­—ã‚„ãƒ‡ãƒ¼ã‚¿ã®ç¾…åˆ—ã‚’è¦‹ã‚‹ã¨ï¼Ÿ", "options": {"A": "é ­ãŒç—›ããªã‚‹", "B": "äº‹å®Ÿã‚’è¡¨ã—ã¦ã„ã¦ç¾ã—ã„ã¨æ„Ÿã˜ã‚‹"} }, 
            { "text": "äººã‚’èª¬å¾—ã™ã‚‹ã«ã¯ï¼Ÿ", "options": {"A": "æƒ…ç†±ã‚„ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã§è¨´ãˆã‚‹", "B": "è«–ç†ã¨ãƒ‡ãƒ¼ã‚¿ã§è¨¼æ˜ã™ã‚‹"} }
        ] },
        { "name_jp": "åŸç‚¹æ€è€ƒ", "name_en": "Context", "domain": "Strategic Thinking", "summary": { "desc": "éå»ã‚’æŒ¯ã‚Šè¿”ã‚Šã€ç¾åœ¨ã®çŠ¶æ³ãŒãªãœã“ã†ãªã£ãŸã®ã‹ã‚’ç†è§£ã™ã‚‹ã€‚" }, 
          "questions": [
            { "text": "æœªæ¥ã®è¨ˆç”»ã‚’ç«‹ã¦ã‚‹ã¨ãï¼Ÿ", "options": {"A": "ã‚¼ãƒ­ãƒ™ãƒ¼ã‚¹ã§ãƒ“ã‚¸ãƒ§ãƒ³ã‚’æã", "B": "éå»ã®æˆåŠŸäº‹ä¾‹ã‚„çµŒç·¯ã‚’å‚è€ƒã«ã™ã‚‹"} }, 
            { "text": "æ­´å²ã‚„ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ã‚¿ãƒªãƒ¼ç•ªçµ„ã¯ï¼Ÿ", "options": {"A": "ã‚ã¾ã‚Šèˆˆå‘³ãŒãªã„", "B": "ãªãœãã†ãªã£ãŸã®ã‹ã‚’çŸ¥ã‚‹ã®ãŒé¢ç™½ã„"} }, 
            { "text": "æ–°ã—ã„ç’°å¢ƒã«å…¥ã£ãŸã‚‰ï¼Ÿ", "options": {"A": "ã“ã‚Œã‹ã‚‰ã®ç›®æ¨™ã‚’èããŸã„", "B": "ã“ã‚Œã¾ã§ã®èƒŒæ™¯ã‚„çµŒç·¯ã‚’çŸ¥ã‚ŠãŸã„"} }
        ] },
        { "name_jp": "æœªæ¥å¿—å‘", "name_en": "Futuristic", "domain": "Strategic Thinking", "summary": { "desc": "æœªæ¥ã®å¯èƒ½æ€§ã‚’é®®æ˜ã«ã‚¤ãƒ¡ãƒ¼ã‚¸ã—ã€å‘¨å›²ã«å¸Œæœ›ã‚’ä¸ãˆã‚‹ã€‚" }, 
          "questions": [
            { "text": "è€ƒãˆäº‹ã‚’ã—ã¦ã„ã‚‹ã¨ãã€æ„è­˜ã¯ã©ã“ã«ã‚ã‚Šã¾ã™ã‹ï¼Ÿ", "options": {"A": "ä»Šã€ã¾ãŸã¯éå»ã®ã“ã¨", "B": "5å¹´å¾Œã€10å¹´å¾Œã®æœªæ¥ã®ã“ã¨"} }, 
            { "text": "ã€Œã‚‚ã—ã€œã ã£ãŸã‚‰ã€ã¨ã„ã†æœªæ¥ã®è©±ã¯ï¼Ÿ", "options": {"A": "ç¾å®Ÿå‘³ãŒãªãã¦å†·ã‚ã‚‹", "B": "æƒ³åƒãŒè†¨ã‚‰ã‚“ã§ãƒ¯ã‚¯ãƒ¯ã‚¯ã™ã‚‹"} }, 
            { "text": "å£ã«ã¶ã¤ã‹ã£ãŸã¨ãï¼Ÿ", "options": {"A": "è¶³å…ƒã®å•é¡Œã‚’ä¸€ã¤ãšã¤ç‰‡ä»˜ã‘ã‚‹", "B": "ã€Œã“ã‚Œã‚’ä¹—ã‚Šè¶ŠãˆãŸå…ˆã®æœªæ¥ã€ã‚’æƒ³åƒã™ã‚‹"} }
        ] },
        { "name_jp": "ç€æƒ³", "name_en": "Ideation", "domain": "Strategic Thinking", "summary": { "desc": "ä¸€è¦‹é–¢ä¿‚ãªã„äº‹è±¡ã‚’çµã³ã¤ã‘ã€æ–°ã—ã„ã‚¢ã‚¤ãƒ‡ã‚¢ã‚’ç”Ÿã¿å‡ºã™ã€‚" }, 
          "questions": [
            { "text": "å•é¡Œè§£æ±ºã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã¯ï¼Ÿ", "options": {"A": "å®Ÿç¸¾ã®ã‚ã‚‹ç¢ºå®Ÿãªæ–¹æ³•ã‚’é¸ã¶", "B": "èª°ã‚‚æ€ã„ã¤ã‹ãªã„æ–¬æ–°ãªæ–¹æ³•ã‚’æ¢ã™"} }, 
            { "text": "ã‚¢ã‚¤ãƒ‡ã‚¢å‡ºã—ã®ãƒ–ãƒ¬ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒŸãƒ³ã‚°ã¯ï¼Ÿ", "options": {"A": "ç¾å®Ÿçš„ã§ãªã„æ¡ˆã°ã‹ã‚Šã§ç–²ã‚Œã‚‹", "B": "åˆºæ¿€çš„ã§æœ€é«˜ã«æ¥½ã—ã„"} }, 
            { "text": "ç‰©äº‹ã®ç¹‹ãŒã‚Šã«ã¤ã„ã¦ï¼Ÿ", "options": {"A": "ãã‚Œãã‚Œç‹¬ç«‹ã—ã¦ã„ã‚‹", "B": "ä¸€è¦‹é–¢ä¿‚ãªã„ã“ã¨ã«ã‚‚ç¹‹ãŒã‚Šã‚’è¦‹å‡ºã™"} }
        ] },
        { "name_jp": "åé›†å¿ƒ", "name_en": "Input", "domain": "Strategic Thinking", "summary": { "desc": "å¥½å¥‡å¿ƒæ—ºç››ã§ã€æƒ…å ±ã‚„çŸ¥è­˜ã‚’åé›†ãƒ»è“„ç©ã™ã‚‹ã“ã¨ã«å–œã³ã‚’æ„Ÿã˜ã‚‹ã€‚" }, 
          "questions": [
            { "text": "çŸ¥ã‚‰ãªã„è¨€è‘‰ã«å‡ºä¼šã£ãŸã‚‰ï¼Ÿ", "options": {"A": "æ–‡è„ˆã§æµã™", "B": "ã™ãã«æ¤œç´¢ã—ã¦èª¿ã¹ãªã„ã¨æ°—ãŒæ¸ˆã¾ãªã„"} }, 
            { "text": "ãƒãƒƒãƒˆã‚µãƒ¼ãƒ•ã‚£ãƒ³ã‚’ã—ã¦ã„ã‚‹ã¨ãï¼Ÿ", "options": {"A": "ç”¨ãŒæ¸ˆã‚“ã ã‚‰ã™ãé–‰ã˜ã‚‹", "B": "æ¬¡ã€…ã¨ãƒªãƒ³ã‚¯ã‚’è¾¿ã£ã¦çŸ¥è­˜ãŒå¢—ãˆã‚‹ã®ãŒå¿«æ„Ÿ"} }, 
            { "text": "æœ¬ã‚„è³‡æ–™ã¯ï¼Ÿ", "options": {"A": "èª­ã‚“ã ã‚‰æ¨ã¦ã‚‹", "B": "ã„ã¤ã‹å½¹ç«‹ã¤ã‹ã‚‚ã¨å–ã£ã¦ãŠã"} }
        ] },
        { "name_jp": "å†…çœ", "name_en": "Intellection", "domain": "Strategic Thinking", "summary": { "desc": "ä¸€äººã§æ·±ãè€ƒãˆã€ç‰©äº‹ã®æœ¬è³ªã‚’æ¢æ±‚ã™ã‚‹ã“ã¨ã‚’å¥½ã‚€ã€‚" }, 
          "questions": [
            { "text": "ã€Œè€ƒãˆã‚‹ã“ã¨ã€ã¯ã‚ãªãŸã«ã¨ã£ã¦ï¼Ÿ", "options": {"A": "è¡Œå‹•ã™ã‚‹ãŸã‚ã®æº–å‚™", "B": "ãã‚Œè‡ªä½“ãŒæ¥½ã—ã„éŠã³"} }, 
            { "text": "ä¸€äººãã‚Šã®æ™‚é–“ã¯ï¼Ÿ", "options": {"A": "å¯‚ã—ã„ã€é€€å±ˆ", "B": "æ€è€ƒã‚’æ·±ã‚ã‚‹ãŸã‚ã«ä¸å¯æ¬ "} }, 
            { "text": "å“²å­¦çš„ãªè­°è«–ï¼ˆæ„›ã¨ã¯ä½•ã‹ã€ç­‰ï¼‰ã¯ï¼Ÿ", "options": {"A": "ç­”ãˆãŒå‡ºãªã„ã‹ã‚‰ç„¡æ„å‘³", "B": "æ·±ãèªã‚Šåˆã†ã®ãŒå¥½ã"} }
        ] },
        { "name_jp": "å­¦ç¿’æ¬²", "name_en": "Learner", "domain": "Strategic Thinking", "summary": { "desc": "å­¦ã¶ãƒ—ãƒ­ã‚»ã‚¹ãã®ã‚‚ã®ã‚’æ¥½ã—ã¿ã€å¸¸ã«å‘ä¸Šã—ã‚ˆã†ã¨ã™ã‚‹ã€‚" }, 
          "questions": [
            { "text": "æ–°ã—ã„ã‚¹ã‚­ãƒ«ã‚’èº«ã«ã¤ã‘ã‚‹ã¨ãï¼Ÿ", "options": {"A": "æ—©ãçµæœã‚’å‡ºã—ãŸã„", "B": "å°‘ã—ãšã¤ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹éç¨‹ãŒæ¥½ã—ã„"} }, 
            { "text": "å…¨ãçŸ¥ã‚‰ãªã„åˆ†é‡ã®è©±ã‚’èãã¨ï¼Ÿ", "options": {"A": "è‡ªåˆ†ã«é–¢ä¿‚ãªã‘ã‚Œã°èˆˆå‘³ãªã„", "B": "ã€Œã¸ã‡ï¼ã€ã¨å¥½å¥‡å¿ƒãŒæ¹§ã"} }, 
            { "text": "ä»Šã®ä»•äº‹ãŒãƒ«ãƒ¼ãƒãƒ³åŒ–ã—ã¦å­¦ã¹ãªããªã£ãŸã‚‰ï¼Ÿ", "options": {"A": "æ¥½ã§ã„ã„", "B": "é€€å±ˆã§è»¢è·ã‚’è€ƒãˆå§‹ã‚ã‚‹"} }
        ] },
        { "name_jp": "æˆ¦ç•¥æ€§", "name_en": "Strategic", "domain": "Strategic Thinking", "summary": { "desc": "è¤‡é›‘ãªçŠ¶æ³ã‹ã‚‰ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’è¦‹å‡ºã—ã€ç›®çš„ã«è‡³ã‚‹æœ€é©ãªãƒ«ãƒ¼ãƒˆã‚’è¦‹ã¤ã‘ã‚‹ã€‚" }, 
          "questions": [
            { "text": "è¤‡é›‘ãªè¿·è·¯ã®ã‚ˆã†ãªå•é¡Œã«ç›´é¢ã—ãŸã‚‰ï¼Ÿ", "options": {"A": "ç›®ã®å‰ã®å£ã‚’ä¸€ã¤ãšã¤è¶…ãˆã‚‹", "B": "ä¸Šç©ºã‹ã‚‰ä¿¯ç°ã—ã¦æœ€çŸ­ãƒ«ãƒ¼ãƒˆã‚’æ¢ã™"} }, 
            { "text": "ãƒ—ãƒ©ãƒ³Bï¼ˆä»£æ›¿æ¡ˆï¼‰ã¯ï¼Ÿ", "options": {"A": "ä¸€ã¤ã§ååˆ†ã€è¿·ã†ã ã‘", "B": "å¸¸ã«ã€Œã‚‚ã—ãƒ€ãƒ¡ãªã‚‰ã“ã†ã™ã‚‹ã€ã¨è€ƒãˆã¦ãŠãã¨å®‰å¿ƒ"} }, 
            { "text": "è¡Œãè©°ã¾ã£ãŸã¨ãï¼Ÿ", "options": {"A": "åŠªåŠ›ã¨æ ¹æ€§ã§çªç ´ã™ã‚‹", "B": "ä¸€æ—¦å¼•ã„ã¦ã€åˆ¥ã®æ”»ç•¥ãƒ«ãƒ¼ãƒˆã‚’æ¢ã™"} }
        ] }
      ]
    };

    let allQuestions = [];
    let currentQuestionIndex = 0;
    let scores = {}; 
    let perfectCounts = {}; 
    let historyStack = [];
    let currentMode = 'precision';
    let aiReportText = ""; // AIãƒ¬ãƒãƒ¼ãƒˆä¿å­˜ç”¨

    // DOMè¦ç´ 
    const startScreen = document.getElementById('start-screen');
    const quizScreen = document.getElementById('quiz-screen');
    const resultScreen = document.getElementById('result-screen');
    const btnBack = document.getElementById('btn-back');
    const restoreMsg = document.getElementById('restore-msg');

    // â–¼â–¼â–¼ ä¿å­˜ãƒ»èª­ã¿è¾¼ã¿ãƒ­ã‚¸ãƒƒã‚¯ â–¼â–¼â–¼
    
    function saveState() {
        const state = {
            allQuestions,
            currentQuestionIndex,
            scores,
            perfectCounts,
            historyStack,
            currentMode,
            aiReportText,
            screen: resultScreen.classList.contains('hidden') ? (quizScreen.classList.contains('hidden') ? 'start' : 'quiz') : 'result',
            userId
        };
        localStorage.setItem(STORAGE_KEY, JSON.stringify(state));
    }

    function loadState() {
        const json = localStorage.getItem(STORAGE_KEY);
        if (!json) return false;

        try {
            const state = JSON.parse(json);
            
            // ãƒ‡ãƒ¼ã‚¿å¾©å…ƒ
            allQuestions = state.allQuestions;
            currentQuestionIndex = state.currentQuestionIndex;
            scores = state.scores;
            perfectCounts = state.perfectCounts;
            historyStack = state.historyStack;
            currentMode = state.currentMode;
            aiReportText = state.aiReportText || "";
            userId = state.userId || userId;

            // ç”»é¢å¾©å…ƒ
            if (state.screen === 'quiz') {
                startScreen.classList.add('hidden');
                quizScreen.classList.remove('hidden');
                restoreMsg.classList.remove('hidden'); // ã€Œå¾©å…ƒã—ã¾ã—ãŸã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
                renderQuestion();
                return true;
            } else if (state.screen === 'result') {
                showResult(true); // true = skip analysis trigger if text exists
                return true;
            }
        } catch (e) {
            console.error("Save data corrupted", e);
            localStorage.removeItem(STORAGE_KEY);
        }
        return false;
    }

    function resetDiagnosis() {
        if(confirm("ç¾åœ¨ã®é€²æ—ã‚’å‰Šé™¤ã—ã¦ã€æœ€åˆã‹ã‚‰ã‚„ã‚Šç›´ã—ã¾ã™ã‹ï¼Ÿ")) {
            localStorage.removeItem(STORAGE_KEY);
            location.reload();
        }
    }

    // â–²â–²â–² ä¿å­˜ãƒ»èª­ã¿è¾¼ã¿ãƒ­ã‚¸ãƒƒã‚¯çµ‚äº† â–²â–²â–²


    function startQuiz(mode) {
        currentMode = mode;
        prepareQuestions(mode);
        currentQuestionIndex = 0;
        startScreen.classList.add('hidden');
        quizScreen.classList.remove('hidden');
        renderQuestion();
        saveState(); // ä¿å­˜
    }

    function prepareQuestions(mode) {
        allQuestions = [];
        scores = {};
        perfectCounts = {};
        historyStack = [];
        aiReportText = "";
        
        diagnosisData.themes.forEach(theme => {
            scores[theme.name_jp] = 0;
            perfectCounts[theme.name_jp] = 0;
            if(theme.questions) {
                let questionsToAdd = [];
                if (mode === 'simple') {
                    // ãƒ©ãƒ³ãƒ€ãƒ ã«1å•
                    const randomIndex = Math.floor(Math.random() * theme.questions.length);
                    questionsToAdd.push(theme.questions[randomIndex]);
                } else {
                    // å…¨å•
                    questionsToAdd = theme.questions;
                }
                questionsToAdd.forEach(q => {
                    allQuestions.push({
                        theme: theme.name_jp,
                        name_en: theme.name_en,
                        text: q.text,
                        options: q.options
                    });
                });
            }
        });
        
        // ã‚·ãƒ£ãƒƒãƒ•ãƒ«
        for (let i = allQuestions.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [allQuestions[i], allQuestions[j]] = [allQuestions[j], allQuestions[i]];
        }
    }

    function renderQuestion() {
        if (currentQuestionIndex >= allQuestions.length) {
            showResult();
            return;
        }
        const q = allQuestions[currentQuestionIndex];
        
        if (currentQuestionIndex > 0) btnBack.classList.remove('hidden'); 
        else btnBack.classList.add('hidden');

        document.getElementById('question-text').textContent = q.text;
        document.getElementById('text-a').textContent = q.options.A;
        document.getElementById('text-b').textContent = q.options.B;

        const progress = ((currentQuestionIndex) / allQuestions.length) * 100;
        document.getElementById('progress-bar').style.width = `${progress}%`;
        document.getElementById('progress-text').textContent = `${currentQuestionIndex + 1} / ${allQuestions.length}`;
        
        window.scrollTo(0, 0);
    }

    function handleAnswer(scaleValue) {
        const q = allQuestions[currentQuestionIndex];
        let points = 0;
        switch(scaleValue) {
            case 1: points = 0; break;
            case 2: points = 5; break;
            case 3: points = 10; break;
            case 4: points = 20; break;
            case 5: 
                points = 30; 
                perfectCounts[q.theme]++; 
                break;
        }
        
        scores[q.theme] += points;
        historyStack.push({ theme: q.theme, points: points, isPerfect: (scaleValue === 5) });
        currentQuestionIndex++;
        
        saveState(); // â˜…å›ç­”ã®ãŸã³ã«ä¿å­˜

        // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ç”¨ã«å°‘ã—é…å»¶
        setTimeout(renderQuestion, 150);
    }

    function goBack() {
        if (currentQuestionIndex === 0 || historyStack.length === 0) return;
        currentQuestionIndex--;
        const lastAction = historyStack.pop();
        if (lastAction) { 
            scores[lastAction.theme] -= lastAction.points; 
            if(lastAction.isPerfect) perfectCounts[lastAction.theme]--;
        }
        saveState(); // â˜…æˆ»ã£ãŸã¨ãã‚‚ä¿å­˜
        renderQuestion();
    }

    // â–¼â–¼â–¼ çµæœè¡¨ç¤ºå‡¦ç† â–¼â–¼â–¼
    function showResult(isRestored = false) {
        quizScreen.classList.add('hidden');
        startScreen.classList.add('hidden'); // Ensure start is hidden
        resultScreen.classList.remove('hidden');
        btnBack.classList.add('hidden');
        
        // ã‚¿ã‚¤ãƒˆãƒ«å¤‰æ›´
        document.getElementById('page-title').textContent = "è¨ºæ–­çµæœãƒ¬ãƒãƒ¼ãƒˆ";

        // ã‚½ãƒ¼ãƒˆ
        const sortedScores = Object.entries(scores).sort((a, b) => {
            if (b[1] !== a[1]) return b[1] - a[1];
            return perfectCounts[b[0]] - perfectCounts[a[0]];
        });

        // æç”»
        drawRankList(sortedScores);
        drawBalanceBar(sortedScores);
        drawRadarChart(sortedScores);
        
        saveState(); // â˜…çµæœç”»é¢åˆ°é”ã‚’ä¿å­˜

        // AIåˆ†æé–‹å§‹ï¼ˆã‚‚ã—æ—¢ã«ä¿å­˜ã•ã‚ŒãŸãƒ†ã‚­ã‚¹ãƒˆãŒã‚ã‚Œã°ãã‚Œã‚’ä½¿ã†ï¼‰
        if (isRestored && aiReportText) {
             document.getElementById('analyzing-overlay').style.display = 'none';
             const reportCard = document.getElementById('ai-report-content');
             reportCard.classList.remove('hidden');
             document.getElementById('ai-text').innerHTML = aiReportText;
        } else {
             const top5 = sortedScores.slice(0, 5).map(i => i[0]).join(', ');
             const bottom5 = sortedScores.slice(-5).reverse().map(i => i[0]).join(', ');
             runAnalysis(top5, bottom5);
        }
    }

    function drawRankList(sortedScores) {
        const listContainer = document.getElementById('full-rank-list');
        listContainer.innerHTML = '';
        const domainColors = { "Executing": "var(--executing)", "Influencing": "var(--influencing)", "Relationship Building": "var(--relationship)", "Strategic Thinking": "var(--strategic)" };

        sortedScores.forEach((item, index) => {
            const themeName = item[0];
            const score = item[1]; // ã‚¹ã‚³ã‚¢
            const themeInfo = diagnosisData.themes.find(t => t.name_jp === themeName);
            const rank = index + 1;
            let rowClass = "rank-item";
            if(rank <= 5) rowClass += " top5";

            const li = document.createElement('li');
            li.className = rowClass;
            
            // HTMLç”Ÿæˆï¼šä¸Šæ®µã«ãƒ©ãƒ³ã‚¯ãƒ»åå‰ãƒ»ã‚¹ã‚³ã‚¢ã€ä¸‹æ®µã«èª¬æ˜æ–‡
            li.innerHTML = `
                <div class="rank-header-row">
                    <div class="rank-left">
                        <span class="rank-num">${rank}</span>
                        <span class="rank-name">${themeName}</span>
                    </div>
                    <div style="display:flex; align-items:center;">
                        <span class="score-pill">Score: ${score}</span>
                        <span class="domain-badge" style="background:${domainColors[themeInfo.domain]}">${themeInfo.domain}</span>
                    </div>
                </div>
                <div class="rank-desc-row">
                   ${themeInfo.summary.desc}
                </div>
            `;
            listContainer.appendChild(li);
        });
    }

    function drawBalanceBar(sortedScores) {
        const domainScores = { "Executing": 0, "Influencing": 0, "Relationship Building": 0, "Strategic Thinking": 0 };
        sortedScores.forEach(item => {
            const theme = diagnosisData.themes.find(t => t.name_jp === item[0]);
            if(theme) domainScores[theme.domain] += item[1];
        });

        const totalScore = Object.values(domainScores).reduce((a,b)=>a+b, 0);
        const barContainer = document.getElementById('balance-bar-container');
        barContainer.innerHTML = '';
        const domainColors = { "Executing": "var(--executing)", "Influencing": "var(--influencing)", "Relationship Building": "var(--relationship)", "Strategic Thinking": "var(--strategic)" };
        
        Object.entries(domainScores)
            .sort((a,b) => b[1] - a[1])
            .forEach(([domain, score]) => {
                if(score > 0) {
                    const width = (score / totalScore) * 100;
                    const div = document.createElement('div');
                    div.style.width = `${width}%`;
                    div.style.backgroundColor = domainColors[domain];
                    div.className = 'balance-bar';
                    barContainer.appendChild(div);
                }
            });
    }

    function drawRadarChart(sortedScores) {
        const container = document.getElementById('radar-chart-container');
        const domainScores = { "Executing": 0, "Influencing": 0, "Relationship Building": 0, "Strategic Thinking": 0 };
        const domainCounts = { "Executing": 0, "Influencing": 0, "Relationship Building": 0, "Strategic Thinking": 0 };

        diagnosisData.themes.forEach(t => domainCounts[t.domain]++);
        sortedScores.forEach(item => {
            const theme = diagnosisData.themes.find(t => t.name_jp === item[0]);
            if(theme) domainScores[theme.domain] += item[1];
        });

        const multiplier = currentMode === 'simple' ? 30 : 90;
        const percentages = {
            "Executing": (domainScores["Executing"] / (domainCounts["Executing"] * multiplier)) * 100,
            "Influencing": (domainScores["Influencing"] / (domainCounts["Influencing"] * multiplier)) * 100,
            "Relationship Building": (domainScores["Relationship Building"] / (domainCounts["Relationship Building"] * multiplier)) * 100,
            "Strategic Thinking": (domainScores["Strategic Thinking"] / (domainCounts["Strategic Thinking"] * multiplier)) * 100
        };

        for (let key in percentages) if (percentages[key] > 100) percentages[key] = 100;

        // ãƒãƒ£ãƒ¼ãƒˆã®ã‚µã‚¤ã‚º
        const size = 260; 
        const center = size / 2;
        const radius = 90; // åŠå¾„
        
        const getCoords = (domain, pct) => {
            const ratio = pct / 100;
            const r = radius * ratio;
            const domainMap = {
                'Executing': [0, -1],
                'Influencing': [1, 0],
                'Relationship Building': [0, 1],
                'Strategic Thinking': [-1, 0]
            };
            const v = domainMap[domain];
            return [center + v[0] * r, center + v[1] * r];
        };

        const pEx = getCoords('Executing', percentages['Executing']);
        const pInf = getCoords('Influencing', percentages['Influencing']);
        const pRel = getCoords('Relationship Building', percentages['Relationship Building']);
        const pStr = getCoords('Strategic Thinking', percentages['Strategic Thinking']);

        const polyPoints = `${pEx[0]},${pEx[1]} ${pInf[0]},${pInf[1]} ${pRel[0]},${pRel[1]} ${pStr[0]},${pStr[1]}`;

        let gridSVG = '';
        [0.25, 0.5, 0.75, 1].forEach(ratio => {
            const r = radius * ratio;
            gridSVG += `<polygon points="${center},${center-r} ${center+r},${center} ${center},${center+r} ${center-r},${center}" fill="none" stroke="#f0f0f0" stroke-width="1" />`;
        });

        // ãƒ©ãƒ™ãƒ«ç”¨ã®åº§æ¨™ï¼ˆå°‘ã—å¤–å´ã«é…ç½®ï¼‰
        const labelOffset = 20;
        
        const svgContent = `
            <svg width="${size}" height="${size}" viewBox="0 0 ${size} ${size}" xmlns="http://www.w3.org/2000/svg">
                ${gridSVG}
                <line x1="${center}" y1="${center-radius}" x2="${center}" y2="${center+radius}" stroke="#f0f0f0" stroke-width="1" />
                <line x1="${center-radius}" y1="${center}" x2="${center+radius}" y2="${center}" stroke="#f0f0f0" stroke-width="1" />
                
                <polygon points="${polyPoints}" fill="rgba(39, 174, 96, 0.1)" stroke="#27ae60" stroke-width="2" />
                <circle cx="${pEx[0]}" cy="${pEx[1]}" r="4" fill="#8e44ad" />
                <circle cx="${pInf[0]}" cy="${pInf[1]}" r="4" fill="#d35400" />
                <circle cx="${pRel[0]}" cy="${pRel[1]}" r="4" fill="#2980b9" />
                <circle cx="${pStr[0]}" cy="${pStr[1]}" r="4" fill="#27ae60" />

                <text x="${center}" y="${center - radius - 10}" text-anchor="middle" font-size="11" fill="#8e44ad" font-weight="bold">å®Ÿè¡ŒåŠ›</text>
                <text x="${center + radius + labelOffset}" y="${center + 4}" text-anchor="middle" font-size="11" fill="#d35400" font-weight="bold">å½±éŸ¿åŠ›</text>
                <text x="${center}" y="${center + radius + 15}" text-anchor="middle" font-size="11" fill="#2980b9" font-weight="bold">äººé–“é–¢ä¿‚</text>
                <text x="${center - radius - labelOffset}" y="${center + 4}" text-anchor="middle" font-size="11" fill="#27ae60" font-weight="bold">æ€è€ƒ</text>
            </svg>
        `;
        container.innerHTML = svgContent;
    }

    // ==========================================
    // â–¼â–¼â–¼ AI åˆ†æãƒ­ã‚¸ãƒƒã‚¯ â–¼â–¼â–¼
    // ==========================================

    let loadingTimer;

    async function runAnalysis(top5, bottom5) {
        if (!DIFY_API_KEY || DIFY_API_KEY.length < 10) {
            document.getElementById('ai-text').textContent = "âš ï¸ APIã‚­ãƒ¼ãŒè¨­å®šã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚ã‚³ãƒ¼ãƒ‰å†…ã® `DIFY_API_KEY` ã‚’è¨­å®šã—ã¦ãã ã•ã„ã€‚";
            return;
        }

        const overlay = document.getElementById('analyzing-overlay');
        const reportCard = document.getElementById('ai-report-content');
        const loadingMsg = document.getElementById('loading-msg');
        
        // ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¡¨ç¤º
        overlay.style.display = 'flex';
        reportCard.classList.add('hidden');

        // ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å®šæœŸçš„ã«å¤‰ãˆã‚‹æ¼”å‡º
        const messages = ["è³‡è³ªãƒ‡ãƒ¼ã‚¿ã‚’é€ä¿¡ä¸­...", "æ€è€ƒãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’åˆ†æä¸­...", "å¼·ã¿ã®çµ„ã¿åˆã‚ã›ã‚’è¨ˆç®—ä¸­...", "ãƒ‘ãƒ¼ã‚½ãƒŠãƒ©ã‚¤ã‚ºã•ã‚ŒãŸãƒ¬ãƒãƒ¼ãƒˆã‚’ä½œæˆä¸­..."];
        let msgIndex = 0;
        loadingTimer = setInterval(() => {
            msgIndex = (msgIndex + 1) % messages.length;
            loadingMsg.textContent = messages[msgIndex];
        }, 1500);

        const payload = {
            inputs: { "top_5": top5, "bottom_5": bottom5 },
            query: "è¨ºæ–­ãƒ¬ãƒãƒ¼ãƒˆã‚’ä½œæˆã—ã¦ãã ã•ã„",
            response_mode: "blocking",
            user: userId,
            auto_generate_name: false
        };

        try {
            const response = await fetch(`${DIFY_BASE_URL}/chat-messages`, {
                method: "POST",
                headers: {
                    "Content-Type": "application/json",
                    "Authorization": `Bearer ${DIFY_API_KEY}`
                },
                body: JSON.stringify(payload)
            });

            const data = await response.json();
            if (!response.ok) throw new Error(data.message || "API Error");

            // æˆåŠŸã—ãŸã‚‰ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çµ‚äº†
            clearInterval(loadingTimer);
            overlay.style.display = 'none';
            reportCard.classList.remove('hidden');

            // ãƒ¬ãƒãƒ¼ãƒˆã‚’è¡¨ç¤ºï¼ˆAIç‰¹æœ‰ã®<think>ã‚¿ã‚°ãªã©ã‚’é™¤å»ã—ã¦ç¶ºéº—ã«ã™ã‚‹ï¼‰
            const cleanText = cleanAIResponse(data.answer);
            
            // ã‚·ãƒ³ãƒ—ãƒ«ãªMarkdownå¤‰æ›ï¼ˆå¤ªå­—ã¨æ”¹è¡Œï¼‰
            let htmlText = cleanText
                .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>') // å¤ªå­—
                .replace(/### (.*)/g, '<h3>$1</h3>') // è¦‹å‡ºã—3
                .replace(/## (.*)/g, '<h2>$1</h2>') // è¦‹å‡ºã—2
                .replace(/- (.*)/g, '<li>$1</li>'); // ãƒªã‚¹ãƒˆ
            
            document.getElementById('ai-text').innerHTML = htmlText;

            // â˜…AIã®çµæœã‚‚ä¿å­˜ã™ã‚‹
            aiReportText = htmlText;
            saveState();

        } catch (error) {
            clearInterval(loadingTimer);
            loadingMsg.textContent = "ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ: " + error.message;
            loadingMsg.style.color = "red";
        }
    }

    // AIã®æ€è€ƒãƒ­ã‚°ãªã©ã‚’æ¶ˆã™ã‚¯ãƒªãƒ¼ãƒ‹ãƒ³ã‚°é–¢æ•°
    function cleanAIResponse(text) {
        // <think>ã‚¿ã‚°ã®ä¸­èº«ã‚’æ¶ˆã™ï¼ˆDeepSeekç³»ç”¨ï¼‰
        let cleaned = text.replace(/<think>[\s\S]*?<\/think>/g, "");
        // ä½™è¨ˆãªç©ºç™½ã‚’é™¤å»
        return cleaned.trim();
    }

    // èµ·å‹•æ™‚ã«ãƒ­ãƒ¼ãƒ‰è©¦è¡Œ
    window.onload = function() {
        const loaded = loadState();
        if(loaded) {
            console.log("Resumed from localStorage");
        }
    };
</script>

</body>
</html>