<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NANKOTSU ストレングス・ラボ</title>
    <style>
        :root {
            --primary-color: #2c3e50; /* コーチらしい落ち着いた紺 */
            --accent-color: #27ae60; /* 成長を表す緑 */
            --bg-color: #f8f9fa;
            --text-color: #333;
        }
        body {
            font-family: "Helvetica Neue", Arial, "Hiragino Kaku Gothic ProN", "Hiragino Sans", Meiryo, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }
        .container {
            background: white;
            width: 95%;
            max-width: 700px;
            padding: 40px;
            border-radius: 16px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.08);
            text-align: center;
            position: relative;
        }
        
        /* コーチのアイコンやヘッダー */
        .coach-header {
            margin-bottom: 20px;
            border-bottom: 2px solid #eee;
            padding-bottom: 20px;
        }
        .coach-title {
            font-size: 14px;
            color: #7f8c8d;
            font-weight: bold;
            letter-spacing: 1px;
            text-transform: uppercase;
        }
        h1 { font-size: 26px; margin: 10px 0; color: var(--primary-color); }
        .intro-text { text-align: left; background: #eef2f5; padding: 20px; border-radius: 8px; font-size: 15px; line-height: 1.8; color: #444; }

        /* 5段階評価のスタイル */
        .scale-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 30px 0;
            gap: 5px;
        }
        .scale-btn {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            border: 2px solid #ddd;
            background: white;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            justify-content: center;
            align-items: center;
            font-weight: bold;
            color: #666;
            font-size: 14px;
        }
        /* ボタンのサイズに変化をつける */
        .scale-btn.large { width: 60px; height: 60px; font-size: 18px; }
        .scale-btn.medium { width: 50px; height: 50px; }
        .scale-btn.small { width: 40px; height: 40px; font-size: 12px; }

        .scale-btn:hover { border-color: var(--accent-color); color: var(--accent-color); }
        
        /* 質問文と選択肢 */
        .question-statement {
            font-size: 1.2em;
            font-weight: bold;
            margin-bottom: 30px;
            min-height: 3em; /* 高さ確保 */
        }
        .choices-wrapper {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-size: 0.95em;
            font-weight: bold;
            color: var(--primary-color);
        }
        .choice-box {
            width: 45%;
            padding: 10px;
            border-radius: 8px;
            background: #f4f4f4;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 60px;
        }

        /* 進行状況 */
        .progress-section { margin-top: 30px; }
        .progress-bar-bg { width: 100%; height: 8px; background: #eee; border-radius: 4px; overflow: hidden; }
        .progress-bar-fill { height: 100%; background: var(--accent-color); width: 0%; transition: width 0.3s; }
        
        /* 結果画面 */
        .result-card {
            text-align: left;
            background: #fff;
            border: 1px solid #eee;
            border-left: 6px solid var(--accent-color);
            padding: 20px;
            margin-bottom: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.03);
            transition: transform 0.2s;
        }
        .result-card:hover { transform: translateY(-2px); box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
        .domain-badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 11px;
            color: white;
            background: #95a5a6;
            margin-left: 10px;
        }
        /* ドメイン別の色分け */
        .domain-Executing { background-color: #8e44ad; } /* 実行力 */
        .domain-Influencing { background-color: #d35400; } /* 影響力 */
        .domain-Relationship { background-color: #2980b9; } /* 人間関係 */
        .domain-Strategic { background-color: #27ae60; } /* 戦略的思考 */

        .btn-start {
            background: var(--accent-color);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 18px;
            border-radius: 30px;
            cursor: pointer;
            font-weight: bold;
            margin-top: 20px;
            box-shadow: 0 4px 15px rgba(39, 174, 96, 0.3);
            transition: all 0.2s;
        }
        .btn-start:hover { transform: scale(1.05); }

        .hidden { display: none; }
        .fade-in { animation: fadeIn 0.5s; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    </style>
</head>
<body>

<div class="container fade-in">
    <div class="coach-header">
        <div class="coach-title">Strengths Coach AI</div>
        <h1 id="page-title">才能の源泉を探る旅へ</h1>
    </div>

    <div id="start-screen">
        <div class="intro-text">
            <p>こんにちは。あなたのストレングス・コーチです。</p>
            <p>これからの対話を通じて、あなたの思考・感情・行動の自然なパターン（才能）を特定し、上位5つの資質（Top 5 Signature Themes）を見つけていきます。</p>
            <p><strong>【回答のコツ】</strong><br>
            「能力（できるかどうか）」ではなく、「傾向（自然とやってしまうか）」で答えてください。<br>
            深く考えすぎず、直感で選ぶことが、最も精度の高い結果につながります。</p>
        </div>
        <button class="btn-start" onclick="startQuiz()">診断を始める</button>
    </div>

    <div id="quiz-screen" class="hidden">
        
        <div id="question-text" class="question-statement">ここに質問が表示されます</div>

        <div class="choices-wrapper">
            <div class="choice-box" id="text-a">Aの記述</div>
            <div class="choice-box" id="text-b">Bの記述</div>
        </div>

        <div class="scale-container">
            <button class="scale-btn large" onclick="handleAnswer(1)" style="border-color:#e74c3c; color:#e74c3c;">A</button>
            <button class="scale-btn medium" onclick="handleAnswer(2)" style="border-color:#e74c3c; color:#e74c3c;">Aやや</button>
            
            <button class="scale-btn small" onclick="handleAnswer(3)" style="background:#eee; border-color:#ccc; color:#888;">ー</button>
            
            <button class="scale-btn medium" onclick="handleAnswer(4)" style="border-color:#27ae60; color:#27ae60;">Bやや</button>
            <button class="scale-btn large" onclick="handleAnswer(5)" style="border-color:#27ae60; color:#27ae60;">B</button>
        </div>
        
        <p style="font-size:12px; color:#888; margin-top:5px;">
            Aに強く当てはまる &lt;-----&gt; Bに強く当てはまる
        </p>

        <div class="progress-section">
            <div style="display:flex; justify-content:space-between; margin-bottom:5px; font-size:12px; color:#aaa;">
                <span>Progress</span>
                <span id="progress-text">0 / 34</span>
            </div>
            <div class="progress-bar-bg">
                <div id="progress-bar" class="progress-bar-fill"></div>
            </div>
        </div>
    </div>

    <div id="result-screen" class="hidden">
        <div class="intro-text">
            <p>お疲れ様でした。回答パターンから推測される、あなたの「上位5つの資質」がこちらです。</p>
            <p>これらは「あなたらしさ」の核となるものです。バルコニー（強みとしての発揮）を意識し、ベースメント（弱みとしての暴走）に気をつけることで、これらは強力な武器になります。</p>
        </div>
        <div id="result-list" style="margin-top:30px;"></div>
        <button class="btn-start" onclick="location.reload()" style="background:#95a5a6; font-size:16px;">ホームに戻る</button>
    </div>
</div>

<script>
    // ▼▼▼ 診断データ (JSON) ▼▼▼
    const diagnosisData = {
      "themes": [
        {
          "name_jp": "達成欲",
          "name_en": "Achiever",
          "domain": "Executing",
          "keywords": ["スタミナ", "多忙", "チェックリスト", "完了"],
          "discriminator": "休むことよりも何かを成し遂げることに快感を覚えるか？",
          "paired_statement": {"A": "休日は完全にリラックスしたい", "B": "休日も何か生産的なことをしたい"}
        },
        {
          "name_jp": "活発性",
          "name_en": "Activator",
          "domain": "Influencing",
          "keywords": ["行動", "開始", "不耐", "触媒"],
          "discriminator": "分析が終わるのを待たずに、とりあえず始めてみたいと思うか？",
          "paired_statement": {"A": "十分な情報を集めてから動く", "B": "動きながら考える"}
        },
        {
          "name_jp": "適応性",
          "name_en": "Adaptability",
          "domain": "Relationship Building",
          "keywords": ["今", "柔軟", "流れ", "即興"],
          "discriminator": "急な予定変更に対して、ストレスよりも「なんとかなる」という感覚を持つか？",
          "paired_statement": {"A": "計画通りに進めたい", "B": "その場の状況に合わせたい"}
        },
        {
          "name_jp": "分析思考",
          "name_en": "Analytical",
          "domain": "Strategic Thinking",
          "keywords": ["データ", "証明", "論理", "客観"],
          "discriminator": "感情的な訴えよりも、数字や証拠を優先するか？",
          "paired_statement": {"A": "直感を信じる", "B": "データを信じる"}
        },
        {
          "name_jp": "アレンジ",
          "name_en": "Arranger",
          "domain": "Executing",
          "keywords": ["構成", "柔軟", "効率", "マルチタスク"],
          "discriminator": "固定されたルーチンよりも、動的に変化するパズルを解くような状況を好むか？",
          "paired_statement": {"A": "一度決めた手順を守る", "B": "より良い手順があれば即座に変える"}
        },
        {
          "name_jp": "信念",
          "name_en": "Belief",
          "domain": "Executing",
          "keywords": ["価値観", "倫理", "家族", "犠牲"],
          "discriminator": "損得勘定よりも、自分の譲れない価値観を優先して行動するか？",
          "paired_statement": {"A": "状況に応じて柔軟に対応する", "B": "どんな時も自分の信条を曲げない"}
        },
        {
          "name_jp": "指令性",
          "name_en": "Command",
          "domain": "Influencing",
          "keywords": ["主導権", "対立", "明確", "決断"],
          "discriminator": "意見が対立した際、場を収めるよりも自分の意見をはっきり主張するか？",
          "paired_statement": {"A": "対立を避ける", "B": "対立を恐れず主張する"}
        },
        {
          "name_jp": "コミュニケーション",
          "name_en": "Communication",
          "domain": "Influencing",
          "keywords": ["言葉", "話す", "物語", "表現"],
          "discriminator": "黙って考えるよりも、話しながら考えたほうが思考が整理されるか？",
          "paired_statement": {"A": "文章で伝える", "B": "口頭で伝える"}
        },
        {
          "name_jp": "競争性",
          "name_en": "Competition",
          "domain": "Influencing",
          "keywords": ["勝利", "一番", "比較", "ライバル"],
          "discriminator": "単に目標を達成するだけでなく、他人より優れた成果を出すことにこだわるか？",
          "paired_statement": {"A": "自分自身の成長が大事", "B": "ライバルに勝つことが大事"}
        },
        {
          "name_jp": "運命思考",
          "name_en": "Connectedness",
          "domain": "Relationship Building",
          "keywords": ["つながり", "縁", "全体像", "スピリチュアル"],
          "discriminator": "物事には偶然はなく、すべてに意味があると感じるか？",
          "paired_statement": {"A": "物事は独立して起きる", "B": "全ては繋がっている"}
        },
        {
          "name_jp": "公平性",
          "name_en": "Consistency",
          "domain": "Executing",
          "keywords": ["平等", "ルール", "バランス", "標準化"],
          "discriminator": "特別扱いを嫌い、全員に同じルールを適用することに安心感を覚えるか？",
          "paired_statement": {"A": "個別に柔軟に対応する", "B": "一貫したルールで対応する"}
        },
        {
          "name_jp": "原点思考",
          "name_en": "Context",
          "domain": "Strategic Thinking",
          "keywords": ["過去", "歴史", "背景", "経緯"],
          "discriminator": "未来のビジョンよりも、過去の経緯や背景を知ることで安心するか？",
          "paired_statement": {"A": "これからどうするかを考える", "B": "なぜこうなったかを考える"}
        },
        {
          "name_jp": "慎重さ",
          "name_en": "Deliberative",
          "domain": "Executing",
          "keywords": ["リスク", "警戒", "プライバシー", "準備"],
          "discriminator": "新しい提案を聞いたとき、ワクワクするよりも先にリスクや障害が見えるか？",
          "paired_statement": {"A": "人をすぐに信用する", "B": "信用するまでに時間がかかる"}
        },
        {
          "name_jp": "成長促進",
          "name_en": "Developer",
          "domain": "Relationship Building",
          "keywords": ["育成", "可能性", "進歩", "忍耐"],
          "discriminator": "自分の成功よりも、他人の小さな成長を見つけたときに大きな喜びを感じるか？",
          "paired_statement": {"A": "優秀な人と働きたい", "B": "伸びしろのある人を育てたい"}
        },
        {
          "name_jp": "規律性",
          "name_en": "Discipline",
          "domain": "Executing",
          "keywords": ["構造", "ルーチン", "正確", "秩序"],
          "discriminator": "スケジュールや手順がカオスな状態になると、強いストレスを感じるか？",
          "paired_statement": {"A": "自由な流れに任せる", "B": "計画通りに進める"}
        },
        {
          "name_jp": "共感性",
          "name_en": "Empathy",
          "domain": "Relationship Building",
          "keywords": ["感情", "直感", "雰囲気", "理解"],
          "discriminator": "相手が言葉にしなくても、その場の空気や感情を直感的に感じ取れるか？",
          "paired_statement": {"A": "論理で人を理解する", "B": "感情で人を理解する"}
        },
        {
          "name_jp": "目標志向",
          "name_en": "Focus",
          "domain": "Executing",
          "keywords": ["ゴール", "集中", "優先順位", "軌道修正"],
          "discriminator": "一度決めた目標に対して、脇道に逸れずに集中し続けることができるか？",
          "paired_statement": {"A": "いろいろな可能性を探る", "B": "一つの目標に集中する"}
        },
        {
          "name_jp": "未来志向",
          "name_en": "Futuristic",
          "domain": "Strategic Thinking",
          "keywords": ["ビジョン", "夢", "明日", "可能性"],
          "discriminator": "現在のことよりも、数年後、数十年後の世界を想像することに時間を使うか？",
          "paired_statement": {"A": "現実的な対処", "B": "未来の想像"}
        },
        {
          "name_jp": "調和性",
          "name_en": "Harmony",
          "domain": "Relationship Building",
          "keywords": ["合意", "平和", "同意", "対立回避"],
          "discriminator": "議論で勝つことよりも、合意点を見つけて対立を終わらせることを優先するか？",
          "paired_statement": {"A": "徹底的に議論する", "B": "共通点を探す"}
        },
        {
          "name_jp": "着想",
          "name_en": "Ideation",
          "domain": "Strategic Thinking",
          "keywords": ["アイデア", "創造", "つながり", "新規性"],
          "discriminator": "既存の方法を実行するよりも、全く新しい方法を思いつくことに興奮するか？",
          "paired_statement": {"A": "実用性を重視", "B": "独創性を重視"}
        },
        {
          "name_jp": "包含",
          "name_en": "Includer",
          "domain": "Relationship Building",
          "keywords": ["仲間外れ", "包容", "多様性", "参加"],
          "discriminator": "集団の中で孤立している人がいると、どうしても気になって声をかけたくなるか？",
          "paired_statement": {"A": "選ばれたメンバーで結束する", "B": "誰でも受け入れる"}
        },
        {
          "name_jp": "個別化",
          "name_en": "Individualization",
          "domain": "Relationship Building",
          "keywords": ["ユニーク", "カスタマイズ", "違い", "配置"],
          "discriminator": "人を「〇〇世代」のように一般化して語ることに違和感や苛立ちを覚えるか？",
          "paired_statement": {"A": "共通点を見る", "B": "相違点を見る"}
        },
        {
          "name_jp": "収集心",
          "name_en": "Input",
          "domain": "Strategic Thinking",
          "keywords": ["情報", "収集", "知的好奇心", "アーカイブ"],
          "discriminator": "今の仕事に直接関係なくても、面白そうな情報や記事をつい保存してしまうか？",
          "paired_statement": {"A": "不要なものは捨てる", "B": "いつか使うかもと取っておく"}
        },
        {
          "name_jp": "内省",
          "name_en": "Intellection",
          "domain": "Strategic Thinking",
          "keywords": ["思考", "哲学", "独り", "深さ"],
          "discriminator": "一人で静かに考える時間を確保できないと、ストレスを感じるか？",
          "paired_statement": {"A": "仲間と話したい", "B": "一人で考えたい"}
        },
        {
          "name_jp": "学習欲",
          "name_en": "Learner",
          "domain": "Strategic Thinking",
          "keywords": ["学ぶ", "プロセス", "向上", "好奇心"],
          "discriminator": "結果を出すことよりも、新しいことを学んでいる最中のプロセス自体が楽しいか？",
          "paired_statement": {"A": "知っている状態でいたい", "B": "知らないことを知る過程が好き"}
        },
        {
          "name_jp": "最上志向",
          "name_en": "Maximizer",
          "domain": "Influencing",
          "keywords": ["優秀", "卓越", "強み", "質"],
          "discriminator": "弱点を平均レベルに直すよりも、強みを卓越したレベルに伸ばすことに時間を使いたいか？",
          "paired_statement": {"A": "弱点の克服", "B": "強みの最大化"}
        },
        {
          "name_jp": "ポジティブ",
          "name_en": "Positivity",
          "domain": "Relationship Building",
          "keywords": ["楽観", "情熱", "称賛", "ユーモア"],
          "discriminator": "深刻な状況でも、ユーモアや良い面を見つけて周囲を明るくしようとするか？",
          "paired_statement": {"A": "リスクを直視する", "B": "希望を語る"}
        },
        {
          "name_jp": "親密性",
          "name_en": "Relator",
          "domain": "Relationship Building",
          "keywords": ["信頼", "深い", "友人", "透明性"],
          "discriminator": "多くの人と広く浅く付き合うよりも、限られた友人と深く付き合うことを好むか？",
          "paired_statement": {"A": "ネットワークを広げる", "B": "関係を深める"}
        },
        {
          "name_jp": "責任感",
          "name_en": "Responsibility",
          "domain": "Executing",
          "keywords": ["約束", "忠実", "義務", "信頼"],
          "discriminator": "一度引き受けたことは、どんなに犠牲を払ってもやり遂げないと気が済まないか？",
          "paired_statement": {"A": "無理なら断る", "B": "無理してでも守る"}
        },
        {
          "name_jp": "回復志向",
          "name_en": "Restorative",
          "domain": "Executing",
          "keywords": ["解決", "修復", "問題", "改善"],
          "discriminator": "うまくいっている事案よりも、トラブルや問題が発生している事案の方に燃えるか？",
          "paired_statement": {"A": "成功を伸ばす", "B": "失敗を直す"}
        },
        {
          "name_jp": "自己確信",
          "name_en": "Self-Assurance",
          "domain": "Influencing",
          "keywords": ["自信", "羅針盤", "直感", "独立"],
          "discriminator": "データや他人の助言が反対していても、自分の直感が正しいと思えばそれに従うか？",
          "paired_statement": {"A": "他人の意見を聞く", "B": "自分の直感を信じる"}
        },
        {
          "name_jp": "自我",
          "name_en": "Significance",
          "domain": "Influencing",
          "keywords": ["重要", "認知", "影響力", "独立"],
          "discriminator": "誰にも知られない仕事よりも、多くの人に認められ影響を与える仕事をしたいか？",
          "paired_statement": {"A": "縁の下の力持ち", "B": "表舞台での活躍"}
        },
        {
          "name_jp": "戦略性",
          "name_en": "Strategic",
          "domain": "Strategic Thinking",
          "keywords": ["選択肢", "パターン", "直感", "予測"],
          "discriminator": "複雑な状況において、瞬時にゴールまでの最適なルートが見える感覚があるか？",
          "paired_statement": {"A": "一つずつ検証する", "B": "直感的に選ぶ"}
        },
        {
          "name_jp": "社交性",
          "name_en": "Woo",
          "domain": "Influencing",
          "keywords": ["出会い", "魅力", "人脈", "第一印象"],
          "discriminator": "知らない人が多いパーティ会場に入るとき、恐怖よりもワクワクを感じるか？",
          "paired_statement": {"A": "親しい人といたい", "B": "新しい人と会いたい"}
        }
      ]
    };

    // --- ロジック部分 ---

    let currentQuestionIndex = 0;
    let scores = {}; // スコア管理

    const startScreen = document.getElementById('start-screen');
    const quizScreen = document.getElementById('quiz-screen');
    const resultScreen = document.getElementById('result-screen');
    
    const questionText = document.getElementById('question-text');
    const textA = document.getElementById('text-a');
    const textB = document.getElementById('text-b');
    
    const progressBar = document.getElementById('progress-bar');
    const progressText = document.getElementById('progress-text');
    const pageTitle = document.getElementById('page-title');

    // 配列のシャッフル（ランダム表示用）
    function shuffle(array) {
        let newArray = [...array];
        for (let i = newArray.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
        }
        return newArray;
    }

    let questions = [];

    function startQuiz() {
        // スコア初期化
        diagnosisData.themes.forEach(theme => {
            scores[theme.name_jp] = 0;
        });

        // 質問の順番をシャッフル
        questions = shuffle(diagnosisData.themes);

        currentQuestionIndex = 0;
        startScreen.classList.add('hidden');
        quizScreen.classList.remove('hidden');
        pageTitle.textContent = "対話セッション";
        renderQuestion();
    }

    function renderQuestion() {
        if (currentQuestionIndex >= questions.length) {
            showResult();
            return;
        }

        const currentTheme = questions[currentQuestionIndex];
        
        // 質問と選択肢のセット
        // discriminator（差別化質問）をメインの問いかけとして表示
        questionText.textContent = `Q${currentQuestionIndex + 1}. ${currentTheme.discriminator}`;
        
        textA.textContent = currentTheme.paired_statement.A;
        textB.textContent = currentTheme.paired_statement.B;

        // 進捗バー更新
        const progress = ((currentQuestionIndex) / questions.length) * 100;
        progressBar.style.width = `${progress}%`;
        progressText.textContent = `${currentQuestionIndex + 1} / ${questions.length}`;
        
        // 画面トップへスクロール（スマホ対策）
        window.scrollTo(0, 0);
    }

    // 5段階評価の処理
    // 1: A強, 2: Aやや, 3: 中立, 4: Bやや, 5: B強
    function handleAnswer(scaleValue) {
        const currentTheme = questions[currentQuestionIndex];
        
        // --- スコアリングロジック ---
        // JSONの構造上、Bがその資質(Theme)を表す記述になっている。
        // Aはその逆、あるいは対立する概念。
        // したがって、Bに近いほどその資質のスコアを加算する。
        
        let point = 0;
        switch(scaleValue) {
            case 1: point = 0; break;  // A強：資質の傾向なし
            case 2: point = 1; break;  // Aやや：わずかに可能性あり
            case 3: point = 2; break;  // 中立
            case 4: point = 3; break;  // Bやや：資質の傾向あり
            case 5: point = 4; break;  // B強：強い資質の傾向
        }

        // 加算
        scores[currentTheme.name_jp] += point;

        currentQuestionIndex++;
        
        // 少し遅らせて次の質問へ（クリック感を出すため）
        setTimeout(renderQuestion, 200);
    }

    function showResult() {
        quizScreen.classList.add('hidden');
        resultScreen.classList.remove('hidden');
        pageTitle.textContent = "診断結果レポート";

        // スコア順にソート
        const sortedScores = Object.entries(scores).sort(([,scoreA], [,scoreB]) => scoreB - scoreA);
        const top5 = sortedScores.slice(0, 5);
        const resultList = document.getElementById('result-list');
        resultList.innerHTML = '';

        top5.forEach((item, index) => {
            const themeName = item[0];
            const themeData = diagnosisData.themes.find(t => t.name_jp === themeName);
            
            // ドメインに応じた色クラスを決定
            let domainClass = "";
            if(themeData.domain.includes("Executing")) domainClass = "domain-Executing"; // 実行力
            else if(themeData.domain.includes("Influencing")) domainClass = "domain-Influencing"; // 影響力
            else if(themeData.domain.includes("Relationship")) domainClass = "domain-Relationship"; // 人間関係構築力
            else if(themeData.domain.includes("Strategic")) domainClass = "domain-Strategic"; // 戦略的思考力

            const div = document.createElement('div');
            div.className = 'result-card';
            div.innerHTML = `
                <div style="display:flex; justify-content:space-between; align-items:center;">
                    <div style="font-weight:bold; color:#888;">RANK ${index + 1}</div>
                    <span class="domain-badge ${domainClass}">${themeData.domain}</span>
                </div>
                <h3 style="margin:10px 0; font-size:22px; color:var(--primary-color);">
                    ${themeData.name_jp} <small style="font-size:0.6em; color:#999;">${themeData.name_en}</small>
                </h3>
                <p style="font-size:0.9em; color:#555; margin-bottom:10px;">
                    <strong>キーワード:</strong> ${themeData.keywords.join(' / ')}
                </p>
                <div style="background:#f9f9f9; padding:10px; border-radius:6px; font-size:0.9em; line-height:1.6;">
                    <strong style="color:var(--accent-color);">コーチからのメモ:</strong><br>
                    あなたは「${themeData.name_jp}」の資質を強く持っているようです。
                    これは、${themeData.discriminator.replace('か？', '')}という自然な反応として現れます。
                    この資質がうまく発揮されているとき（バルコニー）、あなたは周囲に大きな価値を提供できます。
                    逆に、ストレス下では（ベースメント）、この特徴が過剰になりがちなので注意してください。
                </div>
            `;
            resultList.appendChild(div);
        });
    }
</script>

</body>
</html>